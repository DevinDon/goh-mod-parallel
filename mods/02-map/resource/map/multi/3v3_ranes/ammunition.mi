{mission
  {Entity "ammo_point" 0x802f
    {Position 514.56 603.48}
    {xform zl 141.59}
    {Extender "map_point"
      {name f1}
      {zone
        {radius 0}
        {zoneId "f1"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 48}
  }
  {Entity "ammo_point" 0x8011
    {Position -2531.57 -2845.17}
    {xform zl -49.14}
    {Extender "map_point"
      {name f3}
      {zone
        {radius 0}
        {zoneId "f3"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 17}
  }
  {Entity "ammo_point" 0x8013
    {Position 3698.81 3689.69}
    {xform zl 142.88}
    {Extender "map_point"
      {name f2}
      {zone
        {radius 0}
        {zoneId "f2"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 18}
  }
  {Entity "ammo_point" 0x8003
    {Position -4312.67 -4260.72}
    {xform zl -79.44}
    {Extender "map_point"
      {name f5}
      {zone
        {radius 0}
        {zoneId "f5"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 2}
  }
  {Entity "ammo_point" 0x8004
    {Position -14.81 48.89}
    {xform zl 47.27}
    {Extender "map_point"
      {name f4}
      {zone
        {radius 0}
        {zoneId "f4"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 3}
  }
  {Entity "flag_point_base" 0xe002
    {Position 1509.65 -1814.49}
    {xform zl 90}
    {Extender "map_point"
      {name base_flag_a}
      {zone
        {radius 0}
        {zoneId "base_a"}
      }
      {phase 0}
      {order 0}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Extender "fortification"
      {level
        {steps 0}
        {radius 0}
        {angle "90"}
        {elementAngle "180"}
        {buildTime 60}
        {entity "flagpoint_ammo"}
      }
      {level
        {steps 2}
        {radius 13}
        {angle "0"}
        {buildTime 60}
        {entity "sandbag_heap_curved"}
        {skip "1 2 3 4"}
        {manual
          {0
            -0.922 0.386 0
            -0.386 -0.922 0
            0 0 1
            1419.6 -2150.8 27
          }
          {5
            0.365 -0.93 0
            0.93 0.365 0
            0 0 0.999
            1070.73 -2264.27 31
          }
          {6
            -0.084 -0.996 0
            0.996 -0.084 0
            0 0 0.999
            1148.81 -2254.43 30
          }
          {7
            -0.739 0.672 0
            -0.672 -0.739 0
            0 0 1
            1467.14 -2082.87 27
          }
        }
      }
      {level
        {steps 6}
        {radius 25}
        {angle "45"}
        {azimuth "8"}
        {elementAngle "5"}
        {buildTime 60}
        {entity "sandbag_structured_straight"}
        {skip "0 1 2 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23"}
        {manual
          {3
            -0.769 0.638 0
            -0.638 -0.769 0
            0 0 0.999
            922.959 -2040.79 37.363
          }
          {4
            -0.851 0.524 0
            -0.524 -0.851 0
            0 0 0.999
            877.489 -2093.69 37
          }
        }
      }
      {level
        {steps 1}
        {radius 8.5}
        {buildTime 120}
        {entity "watch_tower"}
        {skip "1"}
        {manual
          {0
            -0.195 0.98 0
            -0.98 -0.195 0
            0 0 0.999
            911.617 -2349.93 30.998
          }
          {2
            -0.258 0.965 0
            -0.965 -0.258 0
            0 0 0.999
            502.031 -1882.52 47.83
          }
          {3
            -0.728 0.685 0
            -0.685 -0.728 0
            0 0 1
            2096.75 -1856.7 9.999
          }
        }
      }
      {level
        {steps 5}
        {radius 9}
        {angle "45"}
        {azimuth "14"}
        {buildTime 60}
        {entity "sandbag_framed_straight"}
        {skip "0 3 4 8 9 10 11 12"}
        {manual
          {13
            -0.613 0.79 0
            -0.79 -0.613 0
            0 0 1
            1944.94 -1626.62 20.986
          }
          {14
            -0.785 0.618 0
            -0.618 -0.785 0
            0 0 1
            1913.81 -1657.54 20.305
          }
          {15
            -0.912 0.409 0
            -0.409 -0.912 0
            0 0 1
            1891.09 -1695.07 21
          }
        }
      }
      {level
        {steps 10}
        {radius 35}
        {azimuth "9"}
        {buildTime 240}
        {entity "hedgehog2"}
        {skip "1 2 3 4 5 12 13 14 18 19 20 21 22 23 24 25 26 27 28 29 30 31"}
        {manual
          {0
            -0.996 -0.078 0
            0.078 -0.996 0
            0 0 0.999
            1416.88 -852.815 56.914
          }
          {6
            0.473 0.88 0
            -0.88 0.473 0
            0 0 1
            887.869 -1477.52 53
          }
          {7
            0.329 0.944 0
            -0.944 0.329 0
            0 0 0.999
            932.106 -1376.98 55.045
          }
          {8
            0.177 0.984 0
            -0.984 0.177 0
            0 0 1
            960.07 -1270.76 57
          }
          {9
            0.476 -0.879 0
            0.879 0.476 0
            0 0 0.999
            900.528 -1581.22 50
          }
          {10
            0.607 -0.794 0
            0.794 0.607 0
            0 0 0.999
            960.237 -1673.42 46
          }
          {11
            0.724 -0.689 0
            0.689 0.724 0
            0 0 1
            1033.63 -1755.14 44
          }
          {15
            -0.906 0.421 0
            -0.421 -0.906 0
            0 0 1
            723.187 -1801.03 48
          }
          {16
            -0.961 0.274 0
            -0.274 -0.961 0
            0 0 1
            620.272 -1762.64 49
          }
          {17
            -0.992 0.121 0
            -0.121 -0.992 0
            0 0 1
            512.619 -1740.82 52
          }
          {32
            0.872 0.488 0
            -0.488 0.872 0
            0 0 1
            1011.18 -1214.04 57.074
          }
          {33
            0.785 0.618 0
            -0.618 0.785 0
            0 0 1
            1102.54 -1153.05 56
          }
          {34
            0.679 0.734 0
            -0.734 0.679 0
            0 0 0.999
            1183.23 -1078.53 54.79
          }
          {35
            0.555 0.831 0
            -0.831 0.555 0
            0 0 1
            1251.27 -992.299 55.888
          }
          {36
            0.419 0.907 0
            -0.907 0.419 0
            0 0 0.999
            1304.98 -896.484 57.615
          }
          {37
            -0.923 0.382 0
            -0.382 -0.923 0
            0 0 1
            1739.67 -903.941 48
          }
          {38
            -0.972 0.233 0
            -0.233 -0.972 0
            0 0 0.999
            1635.21 -869.998 53
          }
          {39
            -0.996 0.078 0
            -0.078 -0.996 0
            0 0 1
            1526.72 -852.815 55.162
          }
        }
      }
    }
    {Player 0}
    {MID 4}
  }
  {Entity "flag_point_base" 0xa000
    {Position -1525.94 1678.39}
    {xform zl -90}
    {Extender "map_point"
      {name base_flag_b}
      {zone
        {radius 0}
        {zoneId "base_b"}
      }
      {phase 0}
      {order 0}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Extender "fortification"
      {level
        {steps 0}
        {radius 0}
        {angle "90"}
        {elementAngle "180"}
        {buildTime 60}
        {entity "flagpoint_ammo"}
      }
      {level
        {steps 2}
        {radius 13}
        {angle "0"}
        {buildTime 60}
        {entity "sandbag_heap_curved"}
        {manual
          {0
            0.894 -0.446 0
            0.446 0.894 0
            0 0 1
            -969.901 1943.47 80
          }
          {3
            -0.778 0.626 0
            -0.626 -0.778 0
            0 0 1
            -2008.96 1424.55 87.999
          }
          {4
            -0.999 0.033 0
            -0.033 -0.999 0
            0 0 0.999
            -2037.8 1361.38 84.061
          }
          {5
            0.851 -0.524 0
            0.524 0.851 0
            0 0 0.999
            -1805.51 1546.52 87.802
          }
          {6
            0.998 0.056 0
            -0.056 0.998 0
            0 0 0.999
            -1779.68 1620.78 85
          }
          {7
            0.494 -0.869 0
            0.869 0.494 0
            0 0 1
            -1028.12 1889.55 80
          }
        }
      }
      {level
        {steps 6}
        {radius 25}
        {angle "45"}
        {azimuth "8"}
        {elementAngle "5"}
        {buildTime 60}
        {entity "sandbag_structured_straight"}
        {skip "0 1 2 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23"}
        {manual
          {3
            -0.894 0.447 0
            -0.447 -0.894 0
            0 0 0.999
            -1356.82 2230.43 75
          }
          {4
            -0.438 -0.898 0
            0.898 -0.438 0
            0 0 1
            -1458.61 2181.58 76
          }
          {5
            -0.59 0.807 0
            -0.807 -0.59 0
            0 0 1
            -1399.65 2184.74 76
          }
          {6
            0.566 -0.824 0
            0.824 0.566 0
            0 0 1
            -1976.48 1295.5 83
          }
          {7
            0.864 -0.503 0
            0.503 0.864 0
            0 0 1
            -1947.91 1322.65 87
          }
          {8
            0.925 -0.378 0
            0.378 0.925 0
            0 0 1
            -1913.4 1382.24 90
          }
        }
      }
      {level
        {steps 1}
        {radius 8.5}
        {buildTime 120}
        {entity "watch_tower"}
        {skip "2"}
        {manual
          {0
            0.098 -0.995 0
            0.995 0.098 0
            0 0 0.999
            -659.904 1819.27 81.584
          }
          {1
            0.896 -0.442 0
            0.442 0.896 0
            0 0 1
            -2090.62 1849.12 76
          }
          {3
            0.878 -0.477 0
            0.477 0.878 0
            0 0 1
            -1442.66 2287.56 74
          }
        }
      }
      {level
        {steps 5}
        {radius 9}
        {angle "45"}
        {azimuth "14"}
        {buildTime 60}
        {entity "sandbag_framed_straight"}
        {skip "0 4 8 12"}
        {manual
          {9
            -0.127 -0.991 0
            0.991 -0.127 0
            0 0 1
            -1625.04 1455.04 88
          }
          {10
            0.116 -0.993 0
            0.993 0.116 0
            0 0 0.999
            -1581.16 1454.78 88
          }
          {11
            0.352 -0.935 0
            0.935 0.352 0
            0 0 0.999
            -1538.53 1465.15 88
          }
          {13
            0.849 -0.528 0
            0.528 0.849 0
            0 0 1
            -1392.25 1593.32 85.157
          }
          {14
            0.951 -0.307 0
            0.307 0.951 0
            0 0 1
            -1373.79 1633.12 85
          }
          {15
            0.997 -0.067 0
            0.067 0.997 0
            0 0 1
            -1365.5 1676.2 83
          }
          {16
            0.984 0.175 0
            -0.175 0.984 0
            0 0 1
            -1367.87 1720.01 83
          }
          {17
            0.912 0.408 0
            -0.408 0.912 0
            0 0 1
            -1380.78 1761.94 82
          }
          {18
            -0.422 -0.906 0
            0.906 -0.422 0
            0 0 1
            -718.463 1733 81
          }
          {19
            -0.191 -0.981 0
            0.981 -0.191 0
            0 0 1
            -676.741 1719.44 81
          }
        }
      }
      {level
        {steps 10}
        {radius 35}
        {azimuth "9"}
        {buildTime 240}
        {entity "hedgehog2"}
        {skip "0 1 2 3 4 5 6 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 39"}
        {manual
          {7
            0.924 0.381 0
            -0.381 0.924 0
            0 0 1
            -949.269 1061.26 86
          }
          {8
            0.853 0.521 0
            -0.521 0.853 0
            0 0 1
            -851.338 1111.01 85
          }
          {9
            0.761 0.648 0
            -0.648 0.761 0
            0 0 0.999
            -762.394 1175.46 85
          }
          {10
            0.65 0.759 0
            -0.759 0.65 0
            0 0 0.999
            -684.629 1253.04 83.691
          }
          {11
            0.523 0.852 0
            -0.852 0.523 0
            0 0 1
            -619.956 1341.83 83
          }
          {12
            0.383 0.923 0
            -0.923 0.383 0
            0 0 1
            -569.969 1439.64 83.16
          }
          {29
            -0.432 0.901 0
            -0.901 -0.432 0
            0 0 0.999
            -959.368 301.677 86
          }
          {30
            -0.567 0.823 0
            -0.823 -0.567 0
            0 0 0.999
            -1014.45 396.711 88.584
          }
          {31
            -0.689 0.724 0
            -0.724 -0.689 0
            0 0 0.999
            -1083.71 481.959 88.902
          }
          {32
            -0.794 0.607 0
            -0.607 -0.794 0
            0 0 1
            -1165.47 555.32 88.622
          }
          {33
            -0.879 0.475 0
            -0.475 -0.879 0
            0 0 1
            -1257.68 614.99 89.565
          }
          {34
            0.376 -0.926 0
            0.926 0.376 0
            0 0 1
            -947.321 969.699 86
          }
          {35
            0.516 -0.856 0
            0.856 0.516 0
            0 0 1
            -927.283 854.346 86
          }
          {36
            0.644 -0.764 0
            0.764 0.644 0
            0 0 1
            -863.306 765.057 85.121
          }
          {37
            0.756 -0.654 0
            0.654 0.756 0
            0 0 1
            -786.15 686.876 85
          }
          {38
            0.849 -0.528 0
            0.528 0.849 0
            0 0 1
            -697.713 621.727 83
          }
        }
      }
    }
    {Player 0}
    {MID 5}
  }
  {Entity "map_point" 0xc007
    {Position 5600 -5800}
    {xform zl 135}
    {Extender "map_point"
      {name a2}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 2}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 9}
  }
  {Entity "map_point" 0x8005
    {Position -5900 5500}
    {xform zl -50}
    {Extender "map_point"
      {name b1}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 1}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 1}
  }
  {Entity "map_point" 0x8000
    {Position 5900 -5500}
    {xform zl 135}
    {Extender "map_point"
      {name a1}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 1}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 6}
  }
  {Entity "map_point" 0x8001
    {Position -5600 5800}
    {xform zl -50}
    {Extender "map_point"
      {name b2}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 2}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 7}
  }
  {Entity "map_point" 0xc000
    {Position 5300 -6100}
    {xform zl 135}
    {Extender "map_point"
      {name a3}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 3}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 20}
  }
  {Entity "map_point" 0xc001
    {Position -5300 6100}
    {xform zl -50}
    {Extender "map_point"
      {name b3}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 3}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 21}
  }
  {Entity "ammo2" 0x8007
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo2" 0x8008
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo2" 0x8009
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa001
    {Position -1363.4 -1381.92}
    {xform zl -121.58}
    {Extender "map_point"
      {name f8}
      {zone
        {radius 0}
        {zoneId "f8"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 8}
  }
  {Entity "ammo2" 0xa002
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa003
    {Position -2195.42 -1992.91}
    {xform zl -11.35}
    {Extender "map_point"
      {name f7}
      {zone
        {radius 0}
        {zoneId "f7"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 10}
  }
  {Entity "ammo2" 0xa004
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa005
    {Position -3549.26 -3568.36}
    {xform zl 176.29}
    {Extender "map_point"
      {name f10}
      {zone
        {radius 0}
        {zoneId "f10"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 11}
  }
  {Entity "ammo2" 0xa006
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa007
    {Position 1468.42 1540.81}
    {xform zl -18.32}
    {Extender "map_point"
      {name f6}
      {zone
        {radius 0}
        {zoneId "f6"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 12}
  }
  {Entity "ammo2" 0xa008
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa009
    {Position 2103.56 2422.62}
    {xform zl -4.23}
    {Extender "map_point"
      {name f9}
      {zone
        {radius 0}
        {zoneId "f9"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 13}
  }
  {Entity "ammo2" 0xa00a
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo2" 0x8006
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo2" 0x800a
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo2" 0xa00b
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa00c
    {Position 4805.33 4784.66}
    {xform zl -28.97}
    {Extender "map_point"
      {name f11}
      {zone
        {radius 0}
        {zoneId "f11"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 14}
  }
  {Entity "ammo2" 0xa00d
    {Extender "supply_zone"
      {enabled}
      {current 0}
    }
  }
  {Entity "ammo_point" 0xa00e
    {Position -674.12 -769.5}
    {xform zl 156.28}
    {Extender "map_point"
      {name f12}
      {zone
        {radius 0}
        {zoneId "f12"}
      }
      {phase 0}
      {order 0}
      {show All}
      {visor MapPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 15}
  }
  {Entity "map_point" 0x800e
    {Position 5880.84 -5772.92}
    {xform zl 135}
    {Extender "map_point"
      {name a4}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 4}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 16}
  }
  {Entity "map_point" 0x800f
    {Position 5561.74 -6082.51}
    {xform zl 135}
    {Extender "map_point"
      {name a5}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 5}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 19}
  }
  {Entity "map_point" 0x8010
    {Position 5866.49 -6048.21}
    {xform zl 135}
    {Extender "map_point"
      {name a6}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 6}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 22}
  }
  {Entity "map_point" 0x8012
    {Position 5937.17 -5274.03}
    {xform zl 135}
    {Extender "map_point"
      {name a7}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 7}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 23}
  }
  {Entity "map_point" 0x8014
    {Position 5108.03 -6076.68}
    {xform zl 135}
    {Extender "map_point"
      {name a8}
      {team a}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 8}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 24}
  }
  {Entity "map_point" 0x8015
    {Position -5898.68 5782.98}
    {xform zl -50}
    {Extender "map_point"
      {name b4}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 4}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 25}
  }
  {Entity "map_point" 0x8016
    {Position -5582.22 6063.58}
    {xform zl -50}
    {Extender "map_point"
      {name b5}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 5}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 26}
  }
  {Entity "map_point" 0x8017
    {Position -5921.21 6048.06}
    {xform zl -50}
    {Extender "map_point"
      {name b6}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 6}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 27}
  }
  {Entity "map_point" 0x8018
    {Position -6026.07 5157.7}
    {xform zl -50}
    {Extender "map_point"
      {name b7}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 7}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 28}
  }
  {Entity "map_point" 0x8019
    {Position -4935.99 6104.37}
    {xform zl -50}
    {Extender "map_point"
      {name b8}
      {team b}
      {zone
        {radius 0}
        {zoneId ""}
      }
      {phase 0}
      {order 8}
      {visor SpawnPoint}
      {allow
        {enableCapture}
        {enableRelease}
      }
    }
    {Player 0}
    {MID 29}
  }
  {Link 0x8007 {0x802f "ammo"}}
  {Link 0x8008 {0x8011 "ammo"}}
  {Link 0x8009 {0x8013 "ammo"}}
  {Link 0x8006 {0x8003 "ammo"}}
  {Link 0x800a {0x8004 "ammo"}}
  {Link 0xa002 {0xa001 "ammo"}}
  {Link 0xa004 {0xa003 "ammo"}}
  {Link 0xa006 {0xa005 "ammo"}}
  {Link 0xa008 {0xa007 "ammo"}}
  {Link 0xa00a {0xa009 "ammo"}}
  {Link 0xa00b {0xa00c "ammo"}}
  {Link 0xa00d {0xa00e "ammo"}}
  {Tags "flag" 0x802f}
  {Tags "flag" 0x8011}
  {Tags "flag" 0x8013}
  {Tags "flag" 0x8003}
  {Tags "flag" 0x8004}
  {Tags "base_a" "flag" 0xe002}
  {Tags "base_b" "flag" 0xa000}
  {Tags "flag" 0xa001}
  {Tags "flag" 0xa003}
  {Tags "flag" 0xa005}
  {Tags "flag" 0xa007}
  {Tags "flag" 0xa009}
  {Tags "flag" 0xa00c}
  {Tags "flag" 0xa00e}
  {Environment "goh/multi/west/summer/day_1"}
  {Helpers
    {event "action"}
    {event "ambient"}
    {event "disabled"}
    {event "gamestart"}
    {event "init"}
    {zone "poly"
      {position 1375.28 -1750.06 38}
      {Name "base_a"}
      {Point -75.6824 -678.794}
      {Point -675.724 -136.344}
      {Point 67.2709 700.641}
      {Point 684.135 114.497}
    }
    {zone "poly"
      {position -1477.56 1413.5 88}
      {Name "base_b"}
      {Point 166.991 -747.41}
      {Point -716.144 -224.632}
      {Point -165.111 741.16}
      {Point 714.264 230.882}
    }
    {zone "poly"
      {position 575.395 613.712 78}
      {Name "f1"}
      {Point -458.117 327.017}
      {Point 319.394 237.534}
      {Point 579.545 -21.9696}
      {Point 237.995 -405.367}
      {Point -678.818 -137.214}
    }
    {zone "poly"
      {position -3628.42 -3590.69 2.59747}
      {Name "f10"}
      {Point 177.19 -741.184}
      {Point -740.083 148.434}
      {Point -116.809 754.531}
      {Point 679.703 -161.782}
    }
    {zone "poly"
      {position 4765.38 4748.88 70.9933}
      {Name "f11"}
      {Point -3.32912 -560.621}
      {Point -536.772 39.9664}
      {Point -7.78531 552.32}
      {Point 547.887 -31.6651}
    }
    {zone "poly"
      {position -676.183 -828.277 78}
      {Name "f12"}
      {Point 254.621 -606.58}
      {Point -690.593 -78.8098}
      {Point -261.137 648.659}
      {Point 697.11 36.7303}
    }
    {zone "poly"
      {position 3785.09 3804.03 51.6614}
      {Name "f2"}
      {Point -116.244 -657.857}
      {Point -642.31 -37.343}
      {Point 49.0063 650.998}
      {Point 709.549 44.2017}
    }
    {zone "poly"
      {position -2644.87 -2794.74 13}
      {Name "f3"}
      {Point -2.28586 -644.647}
      {Point -520.067 -10.0016}
      {Point -83.7595 629.339}
      {Point 606.112 25.3092}
    }
    {zone "poly"
      {position -5.23959 46.9781 81}
      {Name "f4"}
      {Point 431.407 -205.633}
      {Point 156.565 -655.979}
      {Point -817.155 -64.4023}
      {Point -446.35 542.23}
      {Point 198.346 325.358}
      {Point 477.187 58.4263}
    }
    {zone "poly"
      {position -4336.75 -4245.54 -0.202515}
      {Name "f5"}
      {Point -62.3173 -692.494}
      {Point -603.27 -9.1315}
      {Point 66.4536 684.775}
      {Point 599.134 16.8499}
    }
    {zone "poly"
      {position 1440.68 1397.83 76}
      {Name "f6"}
      {Point 245.545 -377.679}
      {Point -101.705 -545.533}
      {Point -628.107 48.3664}
      {Point -66.258 674.818}
      {Point 550.525 200.028}
    }
    {zone "poly"
      {position -2161.67 -1910.03 46.514}
      {Name "f7"}
      {Point -48.1321 -609.886}
      {Point -542.755 -123.688}
      {Point -63.5113 616.42}
      {Point 654.398 117.154}
    }
    {zone "poly"
      {position -1361.77 -1380.75 73}
      {Name "f8"}
      {Point 133.355 -565.431}
      {Point -554.125 -117.994}
      {Point -143 539.437}
      {Point 563.77 143.987}
    }
    {zone "poly"
      {position 2110.49 2413.07 60}
      {Name "f9"}
      {Point 136.092 -541.567}
      {Point -586.781 -51.9168}
      {Point -173.767 570.34}
      {Point 624.455 23.1437}
    }
    {zone "poly"
      {position -5.18335 -9.11609 80}
      {Name "global"}
      {Point -6923.65 -6928.17}
      {Point -6933.01 6930.59}
      {Point 6926.35 6925.27}
      {Point 6930.31 -6927.69}
    }
    {reinforcements
      {scoreTotal 0}
      {scoreCurrent 0}
    }
    {vars
      {"action_selection"}
      {"ambient_selection"}
      {"ambient"}
      {"error"}
      {"ai_on"}
      {"user_nation"}
      {"user_team"}
      {"mp"}
      {"ignore_same_user"}
    }
    {mission_options
      {"any_weather"}
      {"day_weather"}
      {"night_weather"}
    }
    {triggers
      {"parachute"
        {condition
          {terms
            {"1.near"
              {units
                {ignore_captured_by_user 0}
                {tag eject}
                {type human}
              }
              {near_to
                {ignore_captured_by_user 0}
                {tag base}
              }
              {distance 100}
            }
          }
        }
        {actions
          {"delay"
            {time 0.05}
          }
          {"linker"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag base}
                  }
                }
                {exclude
                  {tag
                    {tag _flight}
                  }
                }
              }
            }
            {entities
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag eject}
                  }
                }
                {include
                  {prop
                    {prop human}
                  }
                }
                {exclude
                  {state
                    {state linked}
                  }
                }
              }
            }
          }
          {"delay"
            {time 0.05}
          }
          {"effect"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag base}
                  }
                }
                {exclude
                  {tag
                    {tag _flight}
                  }
                }
              }
            }
            {effect start}
          }
          {"delay"
            {time 0.05}
          }
          {"trigger"
            {name "parachute"}
          }
        }
      }
      {"players_units"
        {condition
          {expression "(1 & 3) | (2 & 3)"}
          {terms
            {"1.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state user_control}
                    }
                  }
                  {exclude
                    {tag
                      {tag player}
                    }
                    {tag
                      {tag hidden}
                    }
                    {state
                      {state dead}
                    }
                  }
                }
              }
            }
            {"2.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {state
                      {state "inhabited user_control"}
                    }
                  }
                  {exclude
                    {tag
                      {tag hidden}
                    }
                    {tag
                      {tag player_armor}
                    }
                    {tag
                      {tag player_car}
                    }
                    {tag
                      {tag player_veh}
                    }
                  }
                }
              }
            }
            {"3.cmp_i"
              {var "ai_on$"}
              {op "=="}
              {value 1}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {prop
                    {prop human}
                  }
                  {state
                    {state user_control}
                  }
                }
                {exclude
                  {tag
                    {tag hidden}
                  }
                  {tag
                    {tag player}
                  }
                  {state
                    {state dead}
                  }
                }
              }
            }
            {tag_add player}
          }
          {"delay"
            {time 0.2}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {prop
                    {prop tank}
                  }
                  {state
                    {state "inhabited user_control"}
                  }
                }
                {exclude
                  {tag
                    {tag player_armor}
                  }
                }
              }
            }
            {tag_add player_armor}
          }
          {"delay"
            {time 0.2}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {prop
                    {prop car}
                  }
                  {state
                    {state "inhabited user_control"}
                  }
                }
                {exclude
                  {tag
                    {tag player_car}
                  }
                }
              }
            }
            {tag_add player_car}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {prop
                    {prop vehicle}
                  }
                  {state
                    {state "inhabited user_control"}
                  }
                }
                {exclude
                  {tag
                    {tag player_veh}
                  }
                  {tag
                    {tag player_armor}
                  }
                  {tag
                    {tag player_car}
                  }
                  {tag
                    {tag engine_count_1}
                  }
                  {tag
                    {tag engine_count_2}
                  }
                }
              }
            }
            {tag_add player_veh}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {state
                    {state "operatable user_control"}
                  }
                }
                {exclude
                  {tag
                    {tag _user}
                  }
                }
              }
            }
            {tag_add _user}
          }
          {"delay"
            {time 10}
          }
          {"trigger"
            {name "players_units"}
          }
        }
      }
      {"ai/ai_untow"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_tow}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {state
                      {state operatable}
                    }
                    {state
                      {state linked}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 200}
              }
              {tag
                {"tag pair"}
                {"for selector" tow_act}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_tow}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {state
                      {state operatable}
                    }
                    {state
                      {state linked}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 200}
              }
              {tag
                {"tag pair"}
                {"for selector" tow_act}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"linker"
            {selector
              {type vehicle}
            }
            {action unlink}
            {entities
              {ignore_captured_by_user 0}
              {tag tow_act}
            }
          }
          {"delay"
            {time 0.2}
          }
          {"entity_state"
            {selector
              {source advanced}
              {group
                {select
                  {tag
                    {tag bot_car}
                  }
                  {tag
                    {tag bot_tank}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag bot_towing}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
              {sort
                {type entity}
                {entity
                  {ignore_captured_by_user 0}
                  {tag tow_act}
                }
              }
              {amount 1
              }
            }
            {tag_add bot_towing}
          }
          {"delay"
            {time 0.2}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag bot_towing}
              {state operatable}
            }
            {tag_add _lua_mi}
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type near}
                {units
                  {ignore_captured_by_user 0}
                  {tag bot_towing}
                }
                {near_to
                  {ignore_captured_by_user 0}
                  {tag tow_act}
                }
                {distance 22}
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot_towing}
                          }
                        }
                        {include
                          {prop
                            {prop car}
                          }
                          {state
                            {state inhabited}
                          }
                        }
                        {exclude
                          {state
                            {state moveable}
                          }
                          {state
                            {state user_control}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"emit"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag bot_towing}
                      {type vehicle}
                      {state inhabited}
                    }
                    {drop orders}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot_towing}
                          }
                        }
                        {include
                          {prop
                            {prop vehicle}
                          }
                          {state
                            {state "operatable moveable"}
                          }
                        }
                        {exclude
                          {state
                            {state user_control}
                          }
                        }
                      }
                    }
                    {drop orders}
                    {action move}
                    {target
                      {ignore_captured_by_user 0}
                      {tag flag}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 5}
                  }
                  {"if"
                    {condition
                      {type entities}
                      {selector
                        {source advanced}
                        {ignore_captured_by_user 0}
                        {group
                          {select
                            {tag
                              {tag bot_towing}
                            }
                          }
                          {include
                            {prop
                              {prop car}
                            }
                            {state
                              {state inhabited}
                            }
                          }
                          {exclude
                            {state
                              {state user_control}
                            }
                          }
                        }
                      }
                    }
                    {"delay"
                      {time 0.1}
                    }
                    {"emit"
                      {selector
                        {tag bot_towing}
                        {type vehicle}
                        {state operatable}
                      }
                      {drop orders}
                    }
                  }
                }
              }
            }
            {"default"}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag bot_tow}
                  }
                }
                {include
                  {tag
                    {tag tow_act}
                  }
                }
              }
            }
            {tag_remove bot_tow}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag tow_act}
            }
            {tag_remove tow_act}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag bot_towing}
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag bot_towing}
            }
            {tag_remove bot_towing}
          }
          {"delay"
            {time 8}
          }
          {"trigger"
            {name "ai/ai_untow"}
          }
        }
      }
      {"ai/ai_unhold"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _bot}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag repairing}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag _lua_alert}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 60}
              }
              {detection located}
              {tag
                {"tag pair"}
                {"for selector" unhold_iq}
                {"for enemy" enemy_near_iq}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _bot}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag repairing}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag _lua_alert}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 60}
              }
              {detection located}
              {tag
                {"tag pair"}
                {"for selector" unhold_iq}
                {"for enemy" enemy_near_iq}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag unhold_iq}
              {state operatable}
            }
            {tag_add _lua_mi}
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag unhold_iq}
                      }
                    }
                    {include
                      {tag
                        {tag bot}
                      }
                    }
                  }
                }
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.4}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {weapon_prepare on}
                    {movement
                      {speed assault}
                    }
                    {ai
                      {advance_ratio "0.1"}
                    }
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.4}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {weapon_prepare on}
                    {movement
                      {type crawl}
                    }
                    {ai
                      {advance_ratio "0.05"}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {weapon_prepare on}
                    {movement
                      {speed sneak}
                    }
                    {ai
                      {advance_ratio "0.1"}
                    }
                  }
                }
              }
            }
            {"case"
              {condition
                {type entities}
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag unhold_iq}
                      }
                    }
                    {include
                      {prop
                        {prop vehicle}
                      }
                    }
                    {exclude
                      {tag
                        {tag bot_veh}
                      }
                    }
                  }
                }
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {tag unhold_iq}
                  {type vehicle}
                  {state operatable}
                }
                {drop orders}
                {fire_mode open}
                {ai_move
                  {mode enable}
                }
                {movement
                  {forward off}
                  {backward off}
                }
              }
              {"delay"
                {time 1}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed slow}
                      {forward on}
                      {backward on}
                    }
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed fast}
                      {forward on}
                      {backward on}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {weapon_prepare on}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed normal}
                      {forward on}
                      {backward on}
                    }
                  }
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag unhold_iq}
                      }
                    }
                    {include
                      {tag
                        {tag bot_veh}
                      }
                      {state
                        {state operatable}
                      }
                    }
                  }
                }
                {drop orders}
                {fire_mode open}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {cannon fire}
              }
              {"delay"
                {time 1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag unhold_iq}
                      }
                    }
                    {include
                      {tag
                        {tag bot_veh}
                      }
                    }
                  }
                }
                {tag_add _mi_temp2}
                {tag_remove unhold_iq}
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"delay"
            {time 5}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag unhold_iq}
                  {type vehicle}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action rotate}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action move}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action rotate}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 8}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action advance}
                    {target
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {zone
                            {zone "global"}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag enemy_near_iq}
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 6}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action rotate}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action attack}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 8}
                  }
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action move}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.3}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action advance}
                    {target
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {zone
                            {zone "global"}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag enemy_near_iq}
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 6}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {action attack}
                    {target
                      {ignore_captured_by_user 0}
                      {tag enemy_near_iq}
                    }
                  }
                  {"delay"
                    {time 8}
                  }
                }
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type see_enemy}
                {selector
                  {ignore_captured_by_user 0}
                  {tag unhold_iq}
                }
              }
              {"delay"
                {time 0.1}
              }
            }
            {"default"
              {"delay"
                {time 5}
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag unhold_iq}
                  {type vehicle}
                  {state operatable}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {tag unhold_iq}
                  {state operatable}
                }
                {movement
                  {forward off}
                  {backward off}
                }
              }
              {"delay"
                {time 2}
              }
              {"actor_state"
                {selector
                  {tag unhold_iq}
                  {state operatable}
                }
                {fire_mode open}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {movement
                  {speed slow}
                  {forward on}
                  {backward on}
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_to_cover"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {mode random}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag unhold_iq}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {ai
                      {advance_ratio 1}
                    }
                  }
                }
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag unhold_iq}
                      }
                    }
                    {include
                      {team
                        {team a}
                      }
                    }
                  }
                }
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team a}
                      }
                    }
                    {exclude
                      {tag
                        {tag _lua_mi}
                      }
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                  {amount 4
                  }
                  {sort
                    {type entity}
                    {entity
                      {ignore_captured_by_user 0}
                      {tag unhold_iq}
                    }
                  }
                }
                {drop orders}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {ai
                  {advance_ratio 1}
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team b}
                      }
                    }
                    {exclude
                      {tag
                        {tag _lua_mi}
                      }
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                  {amount 4
                  }
                  {sort
                    {type entity}
                    {entity
                      {ignore_captured_by_user 0}
                      {tag unhold_iq}
                    }
                  }
                }
                {drop orders}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {ai
                  {advance_ratio 1}
                }
              }
            }
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag unhold_iq}
            }
            {tag_add _mi_temp2}
            {tag_remove unhold_iq}
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 8}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag enemy_near_iq}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                      {state
                        {state user_control}
                      }
                    }
                  }
                }
                {tag_add noted_by_ai}
              }
            }
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag enemy_near_iq}
            }
            {tag_remove enemy_near_iq}
          }
          {"delay"
            {time 20}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp2}
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp2}
            }
            {tag_remove _mi_temp2}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "ai/ai_unhold"}
          }
        }
      }
      {"ai/tank_alt_fight"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag bot_tank}
                    }
                    {tag
                      {tag bot_car}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {state
                      {state "moveable inhabited"}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag engine_count_1}
                    }
                    {tag
                      {tag engine_count_2}
                    }
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 180}
              }
              {tag
                {"tag pair"}
                {"for selector" e_tank_alt_a}
                {"for enemy" p_tank_target}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag bot_tank}
                    }
                    {tag
                      {tag bot_car}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {state
                      {state "moveable inhabited"}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag engine_count_1}
                    }
                    {tag
                      {tag engine_count_2}
                    }
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 180}
              }
              {tag
                {"tag pair"}
                {"for selector" e_tank_alt_b}
                {"for enemy" p_tank_target}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"actor_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag e_tank_alt_a}
                  }
                  {tag
                    {tag e_tank_alt_b}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {drop orders}
            {fire_mode open}
            {ai_move
              {mode enable}
            }
            {movement
              {forward off}
              {backward off}
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "ai_on$"}
                {op "<<"}
                {value 1}
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt_a}
                }
                {tag_remove e_tank_alt_a}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt_b}
                }
                {tag_remove e_tank_alt_b}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag p_tank_target}
                }
                {tag_remove p_tank_target}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag e_tank_alt_a}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag e_tank_alt_a}
                    }
                    {tag_add e_tank_alt}
                    {tag_remove e_tank_alt_a}
                  }
                  {"delay"
                    {time 0.4}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team a}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {amount 5
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag e_tank_alt}
                        }
                      }
                    }
                    {tag_add temp2}
                  }
                  {"delay"
                    {time 0.1}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag e_tank_alt_b}
                    }
                    {tag_add e_tank_alt}
                    {tag_remove e_tank_alt_b}
                  }
                  {"delay"
                    {time 0.4}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team b}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {amount 5
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag e_tank_alt}
                        }
                      }
                    }
                    {tag_add temp2}
                  }
                  {"delay"
                    {time 0.1}
                  }
                }
              }
              {"delay"
                {time 0.3}
              }
              {"while"
                {condition
                  {type near}
                  {units
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp2}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag e_tank_alt}
                        }
                      }
                    }
                  }
                  {near_to
                    {ignore_captured_by_user 0}
                    {tag e_tank_alt}
                  }
                  {distance 100}
                }
                {"delay"
                  {time 0.1}
                }
                {"entity_state"
                  {selector
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp2}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag e_tank_alt}
                        }
                      }
                    }
                    {sort
                      {type entity}
                      {entity
                        {ignore_captured_by_user 0}
                        {tag e_tank_alt}
                      }
                    }
                    {amount 1
                    }
                  }
                  {tag_add e_tank_alt}
                  {tag_remove temp2}
                }
                {"delay"
                  {time 0.1}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                  {state operatable}
                }
                {tag_add _lua_mi}
              }
              {"actor_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                  {type human}
                  {state operatable}
                }
                {drop orders}
                {fire_mode open}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {ai
                  {advance_ratio "0.1"}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                  {type vehicle}
                  {state operatable}
                }
                {drop orders}
                {fire_mode open}
                {move_mode free}
                {ai_move
                  {mode enable}
                }
                {movement
                  {speed fast}
                  {forward on}
                  {backward on}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"squad_create"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                  {zone "global"}
                  {state operatable}
                }
                {name e_tank_squad}
              }
              {"delay"
                {time 0.3}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {drop orders}
                    {action rotate}
                    {target
                      {ignore_captured_by_user 0}
                      {tag p_tank_target}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 5}
                  }
                  {"actor_state"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {fire_mode open}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {forward on}
                      {backward on}
                    }
                  }
                  {"delay"
                    {time 0.25}
                  }
                  {"action"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {action attack}
                    {target
                      {ignore_captured_by_user 0}
                      {tag p_tank_target}
                      {zone "global"}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.25}
                  }
                  {"action"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {drop orders}
                    {action rotate}
                    {target
                      {ignore_captured_by_user 0}
                      {tag p_tank_target}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 5}
                  }
                  {"actor_state"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {fire_mode open}
                    {weapon_prepare on}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed fast}
                      {forward on}
                      {backward off}
                    }
                  }
                  {"delay"
                    {time 0.25}
                  }
                  {"action"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {drop orders}
                    {action move}
                    {target
                      {ignore_captured_by_user 0}
                      {tag p_tank_target}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 8}
                  }
                  {"actor_state"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {weapon_prepare on}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed normal}
                      {forward on}
                      {backward on}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"action"
                    {selector
                      {tag e_tank_alt}
                      {zone "global"}
                      {type vehicle}
                      {state inhabited}
                    }
                    {action attack}
                    {target
                      {ignore_captured_by_user 0}
                      {tag p_tank_target}
                      {zone "global"}
                    }
                  }
                }
              }
              {"delay"
                {time 1}
              }
              {"switch"
                {"case"
                  {condition
                    {type near}
                    {units
                      {tag e_tank_alt}
                      {type vehicle}
                      {state operatable}
                    }
                    {near_to
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag flag}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                    }
                    {distance 100}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"effect"
                    {selector
                      {tag e_tank_alt}
                      {type vehicle}
                      {state operatable}
                    }
                    {effect smoke_screen}
                  }
                }
                {"default"}
              }
              {"delay"
                {time 30}
              }
              {"squad_dismiss"
                {squad e_tank_squad}
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                  {zone "global"}
                  {type vehicle}
                }
                {movement
                  {speed normal}
                  {forward on}
                  {backward on}
                }
              }
              {"delay"
                {time 0.5}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "players:composition@"}
                    {op "=="}
                    {value 8}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag p_tank_target}
                          }
                        }
                        {include
                          {state
                            {state "operatable user_control"}
                          }
                        }
                      }
                    }
                    {tag_add noted_by_ai}
                  }
                }
              }
              {"delay"
                {time 1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag e_tank_alt}
                }
                {tag_add _mi_temp5}
                {tag_remove e_tank_alt}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag p_tank_target}
                }
                {tag_remove p_tank_target}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag temp2}
                }
                {tag_remove temp2}
              }
              {"delay"
                {time 30}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _mi_temp5}
                }
                {tag_remove _lua_mi}
              }
              {"delay"
                {time 1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _mi_temp5}
                }
                {tag_remove _mi_temp5}
              }
              {"delay"
                {time 0.1}
              }
              {"trigger"
                {name "ai/tank_alt_fight"}
              }
            }
          }
        }
      }
      {"ai/bail_portables"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_veh}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 33}
              }
              {tag
                {"tag pair"}
                {"for selector" bail_veh}
                {"for enemy" bail_target}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_veh}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 33}
              }
              {tag
                {"tag pair"}
                {"for selector" bail_veh}
                {"for enemy" bail_target}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"emit"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag bail_veh}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {drop orders}
            {emit
              {count 1}
            }
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag bail_target}
              {state operatable}
            }
            {tag_add noted_by_ai}
            {tag_remove bail_target}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag bail_veh}
            }
            {tag_remove bail_veh}
          }
          {"delay"
            {time 5}
          }
          {"trigger"
            {name "ai/bail_portables"}
          }
        }
      }
      {"ai/recrew_portables"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_veh}
                    }
                    {tag
                      {tag player_veh}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag destroyed}
                    }
                    {tag
                      {tag "_no-recrew"}
                    }
                    {state
                      {state inhabited}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 48}
              }
              {tag
                {"tag pair"}
                {"for selector" ecrew_a}
                {"for enemy" ecannon_enter}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_veh}
                    }
                    {tag
                      {tag player_veh}
                    }
                  }
                  {include
                    {prop
                      {prop vehicle}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag destroyed}
                    }
                    {tag
                      {tag "_no-recrew"}
                    }
                    {state
                      {state inhabited}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 48}
              }
              {tag
                {"tag pair"}
                {"for selector" ecrew_b}
                {"for enemy" ecannon_enter}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type see_actors}
                {selector
                  {tag ecrew_a}
                  {zone "global"}
                  {type human}
                  {state "not dead"}
                }
                {enemy
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {zone
                        {zone "global"}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                      {team
                        {team b}
                      }
                    }
                    {exclude
                      {state
                        {state inactive}
                      }
                    }
                  }
                }
                {distance
                  {mode near_than}
                  {meters 45}
                }
                {detection visible}
              }
              {"delay"
                {time 5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew_a}
                }
                {tag_remove ecrew_a}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew_b}
                }
                {tag_remove ecrew_b}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecannon_enter}
                }
                {tag_remove ecannon_enter}
              }
              {"delay"
                {time 20}
              }
            }
            {"case"
              {condition
                {type see_actors}
                {selector
                  {tag ecrew_b}
                  {zone "global"}
                  {type human}
                  {state "not dead"}
                }
                {enemy
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {zone
                        {zone "global"}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                      {team
                        {team a}
                      }
                    }
                    {exclude
                      {state
                        {state inactive}
                      }
                    }
                  }
                }
                {distance
                  {mode near_than}
                  {meters 45}
                }
                {detection visible}
              }
              {"delay"
                {time 5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew_a}
                }
                {tag_remove ecrew_a}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew_b}
                }
                {tag_remove ecrew_b}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecannon_enter}
                }
                {tag_remove ecannon_enter}
              }
              {"delay"
                {time 20}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ecrew_a}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ecrew_a}
                    }
                    {tag_add ecrew}
                    {tag_remove ecrew_a}
                  }
                  {"delay"
                    {time 0.4}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team a}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ecrew}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {amount 2
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ecrew}
                        }
                      }
                    }
                    {tag_add temp1}
                  }
                  {"delay"
                    {time 0.1}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ecrew_b}
                    }
                    {tag_add ecrew}
                    {tag_remove ecrew_b}
                  }
                  {"delay"
                    {time 0.4}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team b}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ecrew}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {amount 2
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ecrew}
                        }
                      }
                    }
                    {tag_add temp1}
                  }
                  {"delay"
                    {time 0.1}
                  }
                }
              }
              {"delay"
                {time 0.2}
              }
              {"while"
                {condition
                  {type near}
                  {units
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp1}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag ecrew}
                        }
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                  }
                  {near_to
                    {ignore_captured_by_user 0}
                    {tag ecannon_enter}
                  }
                  {distance 110}
                }
                {"delay"
                  {time 0.1}
                }
                {"entity_state"
                  {selector
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp1}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag ecrew}
                        }
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                    {sort
                      {type entity}
                      {entity
                        {ignore_captured_by_user 0}
                        {tag ecannon_enter}
                      }
                    }
                    {amount 1
                    }
                  }
                  {tag_add ecrew}
                  {tag_remove temp1}
                }
                {"delay"
                  {time 0.1}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew}
                  {state operatable}
                }
                {tag_add _lua_mi}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag ecrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {drop orders}
                {fire_mode open}
                {move_mode free}
                {movement
                  {speed assault}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"action"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag ecrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {drop orders}
                {action move}
                {target
                  {ignore_captured_by_user 0}
                  {tag ecannon_enter}
                }
              }
              {"delay"
                {time 5}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ecannon_enter}
                          }
                        }
                        {include
                          {prop
                            {prop vehicle}
                          }
                        }
                        {exclude
                          {tag
                            {tag destroyed}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"board"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag ecrew}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                    }
                    {vehicle
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ecannon_enter}
                          }
                        }
                        {include
                          {prop
                            {prop vehicle}
                          }
                        }
                        {exclude
                          {tag
                            {tag destroyed}
                          }
                        }
                      }
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ecrew}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                  }
                }
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecrew}
                  {state operatable}
                }
                {tag_add _mi_temp4}
              }
              {"delay"
                {time 20}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag ecrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {tag_remove ecrew}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ecannon_enter}
                }
                {tag_remove ecannon_enter}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag temp1}
                }
                {tag_remove temp1}
              }
              {"delay"
                {time 20}
              }
            }
          }
          {"delay"
            {time 30}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _mi_temp4}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag repairing}
                  }
                  {state
                    {state inactive}
                  }
                  {state
                    {state linked}
                  }
                }
              }
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp4}
            }
            {tag_remove _mi_temp4}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "ai/recrew_portables"}
          }
        }
      }
      {"ai/ai_flag_smoke"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag smk_}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _user}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 95}
              }
              {tag
                {"tag pair"}
                {"for selector" ai_smoke}
                {"for enemy" smk_target}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag smk_}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _user}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 95}
              }
              {tag
                {"tag pair"}
                {"for selector" ai_smoke}
                {"for enemy" smk_target}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type near}
                {units
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag smk_target}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                  }
                }
                {near_to
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag flag}
                      }
                    }
                    {exclude
                      {state
                        {state inactive}
                      }
                    }
                  }
                }
                {distance 150}
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ai_smoke}
                          }
                        }
                        {include
                          {with_item
                            {type amount}
                            {item "nbk39" "grenade"}
                            {min 1}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag smk_}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {with_item
                            {type amount}
                            {item "nbk39" "grenade"}
                            {min 1}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ai_smoke}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ai_smoke}
                        }
                      }
                      {amount 2
                      }
                    }
                    {tag_add ai_smoke}
                  }
                  {"delay"
                    {time 0.3}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {tag_add _mi_temp1}
                  }
                  {"delay"
                    {time 0.2}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _mi_temp1}
                    }
                    {tag_add _lua_mi}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"inventory"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {action take}
                    {item "nbk39" "grenade"}
                  }
                  {"delay"
                    {time 0.5}
                  }
                  {"action"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop "orders sensor senseless"}
                    {action attack_ground}
                    {target
                      {ignore_captured_by_user 0}
                      {tag null}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                  {"action"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop orders}
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag smk_target}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                }
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ai_smoke}
                          }
                        }
                        {include
                          {with_item
                            {type amount}
                            {item "rdg1_smoke" "grenade"}
                            {min 1}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag smk_}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {with_item
                            {type amount}
                            {item "rdg1_smoke" "grenade"}
                            {min 1}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ai_smoke}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ai_smoke}
                        }
                      }
                      {amount 2
                      }
                    }
                    {tag_add ai_smoke}
                  }
                  {"delay"
                    {time 0.3}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {tag_add _mi_temp1}
                  }
                  {"delay"
                    {time 0.2}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _mi_temp1}
                    }
                    {tag_add _lua_mi}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"inventory"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {action take}
                    {item "rdg1_smoke" "grenade"}
                  }
                  {"delay"
                    {time 0.5}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop "orders sensor senseless"}
                    {action attack_ground}
                    {target
                      {ignore_captured_by_user 0}
                      {tag null}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                  {"action"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop orders}
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag smk_target}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                }
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ai_smoke}
                          }
                        }
                        {include
                          {with_item
                            {type amount}
                            {item "m24_smoke" "grenade"}
                            {min 1}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag smk_}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {with_item
                            {type amount}
                            {item "m24_smoke" "grenade"}
                            {min 1}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ai_smoke}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ai_smoke}
                        }
                      }
                      {amount 2
                      }
                    }
                    {tag_add ai_smoke}
                  }
                  {"delay"
                    {time 0.3}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {tag_add _mi_temp1}
                  }
                  {"delay"
                    {time 0.2}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _mi_temp1}
                    }
                    {tag_add _lua_mi}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"inventory"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {action take}
                    {item "m24_smoke" "grenade"}
                  }
                  {"delay"
                    {time 0.5}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop "orders sensor senseless"}
                    {action attack_ground}
                    {target
                      {ignore_captured_by_user 0}
                      {tag null}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                  {"action"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop orders}
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag smk_target}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                }
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag ai_smoke}
                          }
                        }
                        {include
                          {with_item
                            {type amount}
                            {item "m43_smoke" "grenade"}
                            {min 1}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {group
                        {select
                          {tag
                            {tag smk_}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {with_item
                            {type amount}
                            {item "m43_smoke" "grenade"}
                            {min 1}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag ai_smoke}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {tag ai_smoke}
                        }
                      }
                      {amount 2
                      }
                    }
                    {tag_add ai_smoke}
                  }
                  {"delay"
                    {time 0.3}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {tag_add _mi_temp1}
                  }
                  {"delay"
                    {time 0.2}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _mi_temp1}
                    }
                    {tag_add _lua_mi}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"inventory"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {action take}
                    {item "m43_smoke" "grenade"}
                  }
                  {"delay"
                    {time 0.5}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop "orders sensor senseless"}
                    {action attack_ground}
                    {target
                      {ignore_captured_by_user 0}
                      {tag null}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                  {"action"
                    {selector
                      {tag ai_smoke}
                      {type human}
                      {state "not dead"}
                    }
                    {drop orders}
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag smk_target}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                    }
                    {tag_remove ai_smoke}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag smk_target}
                    }
                    {tag_remove smk_target}
                  }
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag smk_target}
                }
                {tag_remove smk_target}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag ai_smoke}
                }
                {tag_remove ai_smoke}
              }
            }
          }
          {"delay"
            {time 2}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag ai_smoke}
                  {state operatable}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type see_enemy}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"actor_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {ai
                      {advance_ratio "0.1"}
                    }
                  }
                  {"delay"
                    {time 1}
                  }
                  {"actor_to_cover"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 8}
                  }
                  {"actor_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag ai_smoke}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {ai
                      {advance_ratio "0.5"}
                    }
                  }
                }
              }
              {"delay"
                {time 1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag smk_target}
                }
                {tag_remove smk_target}
              }
              {"delay"
                {time 50}
              }
            }
            {"default"}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag ai_smoke}
            }
            {tag_remove ai_smoke}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp1}
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp1}
            }
            {tag_remove _mi_temp1}
          }
          {"delay"
            {time 80}
          }
          {"trigger"
            {name "ai/ai_flag_smoke"}
          }
        }
      }
      {"bots_units"
        {condition
          {terms
            {"1.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                  }
                  {exclude
                    {tag
                      {tag _bot}
                    }
                    {tag
                      {tag hidden}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
            }
            {"2.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {zone
                    {zone "global"}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                  {tag
                    {tag _ai}
                  }
                  {tag
                    {tag hidden}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add _ai}
          }
          {"delay"
            {time 0.4}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _ai}
                  }
                }
                {include
                  {prop
                    {prop tank}
                  }
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag bot_tank}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add bot_tank}
          }
          {"delay"
            {time 0.2}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _ai}
                  }
                }
                {include
                  {prop
                    {prop car}
                  }
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag bot_car}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add bot_car}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _ai}
                  }
                }
                {include
                  {prop
                    {prop vehicle}
                  }
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag bot_tank}
                  }
                  {tag
                    {tag bot_car}
                  }
                  {tag
                    {tag bot_veh}
                  }
                  {tag
                    {tag engine_count_1}
                  }
                  {tag
                    {tag engine_count_2}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add _bot_veh}
          }
          {"delay"
            {time 0.5}
          }
          {"ables"
            {selector
              {ignore_captured_by_user 0}
              {tag _ai}
              {zone "global"}
              {type human}
              {state operatable}
            }
            {remove personage}
          }
          {"delay"
            {time 0.5}
          }
          {"ables"
            {selector
              {ignore_captured_by_user 0}
              {tag _bot_veh}
              {zone "global"}
              {type vehicle}
              {state operatable}
            }
            {add emit_on_attack}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _ai}
                  }
                }
                {include
                  {prop
                    {prop human}
                  }
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                }
              }
            }
            {tag_add bot}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _bot_veh}
            }
            {tag_add bot_veh}
            {tag_remove _bot_veh}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {group
                {select
                  {tag
                    {tag bot_veh}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                  {state
                    {state linked}
                  }
                }
                {exclude
                  {tag
                    {tag bot_tow}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add bot_tow}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _ai}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
            }
            {tag_add _bot}
            {tag_remove _ai}
          }
          {"delay"
            {time 1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag smk_}
                  {zone "global"}
                  {state operatable}
                }
                {count
                  {op "<<"}
                  {value 55}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {with_item
                        {type amount}
                        {item "nbk39" "grenade"}
                        {min 1}
                      }
                    }
                    {exclude
                      {tag
                        {tag smk_}
                      }
                      {state
                        {state dead}
                      }
                    }
                  }
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {with_item
                        {type amount}
                        {item "rdg1_smoke" "grenade"}
                        {min 1}
                      }
                    }
                    {exclude
                      {tag
                        {tag smk_}
                      }
                      {state
                        {state dead}
                      }
                    }
                  }
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {with_item
                        {type amount}
                        {item "m24_smoke" "grenade"}
                        {min 1}
                      }
                    }
                    {exclude
                      {tag
                        {tag smk_}
                      }
                      {state
                        {state dead}
                      }
                    }
                  }
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {with_item
                        {type amount}
                        {item "m43_smoke"}
                        {min 1}
                      }
                    }
                    {exclude
                      {tag
                        {tag smk_}
                      }
                      {state
                        {state dead}
                      }
                    }
                  }
                }
                {tag_add smk_}
              }
            }
            {"default"}
          }
          {"delay"
            {time 5}
          }
          {"trigger"
            {name "bots_units"}
          }
        }
      }
      {"ai/user_a_detect"
        {condition
          {terms
            {"1.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
            {"2.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag player}
                    }
                  }
                  {include
                    {team
                      {team a}
                    }
                  }
                }
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"set_i"
            {var "user_team$"}
            {op "+"}
            {value 1}
          }
        }
      }
      {"ai/user_b_detect"
        {condition
          {terms
            {"1.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
            {"2.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag player}
                    }
                  }
                  {include
                    {team
                      {team b}
                    }
                  }
                }
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"set_i"
            {var "user_team$"}
            {op "+"}
            {value 2}
          }
        }
      }
      {"ai/init"
        {condition
        }
        {actions
          {"delay"
            {time 1}
          }
          {"set_i"
            {var "error$"}
            {op "="}
            {value 0}
          }
          {"set_i"
            {var "mp$"}
            {op "="}
            {value 0}
          }
          {"set_i"
            {var "user_team$"}
            {op "="}
            {value 0}
          }
          {"set_i"
            {var "ignore_same_user$"}
            {op "="}
            {value 0}
          }
          {"delay"
            {time 4}
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 2}
              }
              {"delay"
                {time 0.1}
              }
              {"set_i"
                {var "ai_on$"}
                {op "="}
                {value 1}
              }
              {"set_i"
                {var "mp$"}
                {op "="}
                {value 2}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 3}
              }
              {"delay"
                {time 0.1}
              }
              {"set_i"
                {var "ai_on$"}
                {op "="}
                {value 1}
              }
              {"set_i"
                {var "mp$"}
                {op "="}
                {value 3}
              }
              {"set_i"
                {var "ignore_same_user$"}
                {op "="}
                {value 1}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 5}
              }
              {"delay"
                {time 0.1}
              }
              {"set_i"
                {var "ai_on$"}
                {op "="}
                {value 2}
              }
              {"set_i"
                {var "mp$"}
                {op "="}
                {value 5}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 6}
              }
              {"delay"
                {time 0.1}
              }
              {"set_i"
                {var "ai_on$"}
                {op "="}
                {value 1}
              }
              {"set_i"
                {var "mp$"}
                {op "="}
                {value 6}
              }
              {"set_i"
                {var "ignore_same_user$"}
                {op "="}
                {value 1}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "players:composition@"}
                {op "=="}
                {value 8}
              }
              {"delay"
                {time 0.1}
              }
              {"set_i"
                {var "ai_on$"}
                {op "="}
                {value 1}
              }
              {"set_i"
                {var "mp$"}
                {op "="}
                {value 8}
              }
              {"set_i"
                {var "ignore_same_user$"}
                {op "="}
                {value 1}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
            }
          }
        }
      }
      {"ai/chance_ai_pursue"
        {condition
          {type 1}
          {terms
            {"1.near"
              {units
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag repairing}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {near_to
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag noted_by_ai}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance 80}
            }
            {"2.near"
              {units
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag repairing}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {near_to
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag noted_by_ai}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance 80}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type near}
                {units
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team a}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {tag
                        {tag _lua_mi}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {near_to
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag noted_by_ai}
                      }
                    }
                    {include
                      {zone
                        {zone "global"}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team b}
                      }
                    }
                    {exclude
                      {state
                        {state inactive}
                      }
                    }
                  }
                }
                {distance 80}
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {zone
                        {zone "global"}
                      }
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team a}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {tag
                        {tag _lua_mi}
                      }
                      {tag
                        {tag _lua_ignore}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                  {sort
                    {type entity}
                    {entity
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag noted_by_ai}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                          {team
                            {team b}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                    }
                  }
                  {amount 5
                  }
                }
                {tag_add temp4}
              }
              {"delay"
                {time 0.5}
              }
              {"while"
                {condition
                  {type near}
                  {units
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp4}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                  }
                  {near_to
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag noted_by_ai}
                        }
                      }
                      {include
                        {state
                          {state operatable}
                        }
                        {team
                          {team b}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                      }
                    }
                  }
                  {distance 60}
                }
                {"delay"
                  {time 0.1}
                }
                {"entity_state"
                  {selector
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp4}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                    {sort
                      {type entity}
                      {entity
                        {source advanced}
                        {ignore_captured_by_user 0}
                        {group
                          {select
                            {tag
                              {tag noted_by_ai}
                            }
                          }
                          {include
                            {state
                              {state operatable}
                            }
                            {team
                              {team b}
                            }
                          }
                          {exclude
                            {state
                              {state inactive}
                            }
                          }
                        }
                      }
                    }
                    {amount 1
                    }
                  }
                  {tag_add pursuer}
                  {tag_remove temp4}
                }
                {"delay"
                  {time 0.1}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursuer}
                  {state operatable}
                }
                {tag_add _lua_mi}
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag noted_by_ai}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                      {team
                        {team b}
                      }
                    }
                  }
                  {sort
                    {type entity}
                    {entity
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                    }
                  }
                }
                {tag_add pursue_target}
                {tag_remove noted_by_ai}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag bot}
                      }
                    }
                    {include
                      {zone
                        {zone "global"}
                      }
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                      {team
                        {team b}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {tag
                        {tag _lua_mi}
                      }
                      {tag
                        {tag _lua_ignore}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                  {sort
                    {type entity}
                    {entity
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag noted_by_ai}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                          {team
                            {team a}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                    }
                  }
                  {amount 5
                  }
                }
                {tag_add temp4}
              }
              {"delay"
                {time 0.5}
              }
              {"while"
                {condition
                  {type near}
                  {units
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp4}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                  }
                  {near_to
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag noted_by_ai}
                        }
                      }
                      {include
                        {state
                          {state operatable}
                        }
                        {team
                          {team a}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                      }
                    }
                  }
                  {distance 60}
                }
                {"delay"
                  {time 0.1}
                }
                {"entity_state"
                  {selector
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp4}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                    {sort
                      {type entity}
                      {entity
                        {source advanced}
                        {ignore_captured_by_user 0}
                        {group
                          {select
                            {tag
                              {tag noted_by_ai}
                            }
                          }
                          {include
                            {state
                              {state operatable}
                            }
                            {team
                              {team a}
                            }
                          }
                          {exclude
                            {state
                              {state inactive}
                            }
                          }
                        }
                      }
                    }
                    {amount 1
                    }
                  }
                  {tag_add pursuer}
                  {tag_remove temp4}
                }
                {"delay"
                  {time 0.1}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursuer}
                  {state operatable}
                }
                {tag_add _lua_mi}
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag noted_by_ai}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                      {team
                        {team a}
                      }
                    }
                  }
                  {sort
                    {type entity}
                    {entity
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                    }
                  }
                }
                {tag_add pursue_target}
                {tag_remove noted_by_ai}
              }
            }
          }
          {"delay"
            {time 0.5}
          }
          {"squad_create"
            {selector
              {ignore_captured_by_user 0}
              {tag pursuer}
              {zone "global"}
              {state operatable}
            }
            {name pursuer}
          }
          {"delay"
            {time 0.1}
          }
          {"actor_state"
            {selector
              {ignore_captured_by_user 0}
              {tag pursuer}
              {zone "global"}
              {state operatable}
            }
            {drop orders}
            {move_mode free}
            {weapon_prepare on}
            {ai_move
              {mode enable}
            }
            {ai
              {advance_ratio "0.5"}
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursue_target}
                  {type vehicle}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"action"
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursuer}
                  {zone "global"}
                  {state operatable}
                }
                {action attack}
                {target
                  {ignore_captured_by_user 0}
                  {tag pursue_target}
                  {zone "global"}
                }
              }
              {"delay"
                {time 4}
              }
              {"action"
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursuer}
                  {zone "global"}
                  {state operatable}
                }
                {action attack}
                {target
                  {ignore_captured_by_user 0}
                  {tag pursue_target}
                  {zone "global"}
                }
              }
              {"delay"
                {time 4}
              }
            }
            {"default"
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                      {zone "global"}
                      {state operatable}
                    }
                    {action advance}
                    {target
                      {ignore_captured_by_user 0}
                      {tag pursue_target}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 4}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                      {zone "global"}
                      {state operatable}
                    }
                    {action move}
                    {target
                      {ignore_captured_by_user 0}
                      {tag pursue_target}
                      {zone "global"}
                    }
                  }
                  {"delay"
                    {time 6}
                  }
                }
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {ignore_captured_by_user 0}
                  {tag pursuer}
                  {zone "global"}
                  {type human}
                  {state operatable}
                }
                {count
                  {op "<<"}
                  {value 2}
                }
              }
              {"delay"
                {time 0.1}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type see_enemy}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                      {state operatable}
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"action"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag pursuer}
                      {state operatable}
                    }
                    {action attack}
                    {target
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag pursue_target}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 8}
                  }
                }
                {"default"
                  {"delay"
                    {time 5}
                  }
                }
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"actor_state"
            {selector
              {ignore_captured_by_user 0}
              {tag pursuer}
              {zone "global"}
              {state operatable}
            }
            {drop orders}
            {fire_mode open}
            {move_mode free}
            {ai
              {advance_ratio 1}
            }
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type rand}
                {value 0.5}
              }
              {"delay"
                {time 25}
              }
            }
            {"default"
              {"delay"
                {time 45}
              }
            }
          }
          {"delay"
            {time 0.1}
          }
          {"squad_dismiss"
            {squad pursuer}
          }
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag pursue_target}
            }
            {tag_remove pursue_target}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag pursuer}
            }
            {tag_add _mi_temp3}
            {tag_remove pursuer}
          }
          {"delay"
            {time 80}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp3}
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp3}
            }
            {tag_remove _mi_temp3}
          }
          {"delay"
            {time 0.5}
          }
          {"trigger"
            {name "ai/chance_ai_pursue"}
          }
        }
      }
      {"lua/clean"
        {condition
          {type 1}
          {terms
            {"1.entities"
              {selector
                {ignore_captured_by_user 0}
                {tag _lua_alert}
                {zone "global"}
                {state "not operatable"}
              }
            }
            {"2.entities"
              {selector
                {ignore_captured_by_user 0}
                {tag _lua_ignore}
                {zone "global"}
                {state "not operatable"}
              }
            }
            {"3.entities"
              {selector
                {ignore_captured_by_user 0}
                {tag smk_}
                {zone "global"}
                {state "not operatable"}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _bot}
              {zone "global"}
              {state "not operatable"}
            }
            {tag_remove _bot}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _lua_ignore}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                }
              }
            }
            {tag_remove _lua_ignore}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _lua_alert}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                }
              }
            }
            {tag_remove _lua_alert}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _lua_ignore}
                  }
                }
                {exclude
                  {zone
                    {zone "global"}
                  }
                }
              }
            }
            {tag_remove _lua_ignore}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _lua_alert}
                  }
                }
                {exclude
                  {zone
                    {zone "global"}
                  }
                }
              }
            }
            {tag_remove _lua_alert}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag smk_}
                  }
                }
                {exclude
                  {tag
                    {tag _bot}
                  }
                }
              }
            }
            {tag_remove smk_}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag noted_by_ai}
              {zone "global"}
              {state "not operatable"}
            }
            {tag_remove noted_by_ai}
          }
          {"delay"
            {time 0.5}
          }
          {"switch"
            {"case"
              {condition
                {type trigger}
                {name "ai/recrew_portables"}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag _lua_mi}
                      }
                    }
                    {include
                      {tag
                        {tag ecrew}
                      }
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {tag_add _clean}
                {tag_remove _lua_mi}
              }
              {"delay"
                {time 0.5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _clean}
                }
                {tag_remove ecrew}
              }
              {"delay"
                {time 0.5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _clean}
                }
                {tag_remove _clean}
              }
            }
          }
          {"delay"
            {time 1}
          }
          {"switch"
            {"case"
              {condition
                {type trigger}
                {name "ai/recrew_tank"}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag _lua_mi}
                      }
                    }
                    {include
                      {tag
                        {tag tcrew}
                      }
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {tag_add _clean}
                {tag_remove _lua_mi}
              }
              {"delay"
                {time 0.5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _clean}
                }
                {tag_remove tcrew}
              }
              {"delay"
                {time 0.5}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _clean}
                }
                {tag_remove _clean}
              }
            }
          }
          {"delay"
            {time 25}
          }
          {"trigger"
            {name "lua/clean"}
          }
        }
      }
      {"lua/ignore_seek"
        {condition
          {terms
            {"1.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
            {"2.near"
              {units
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _bot}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag _lua_ignore}
                    }
                    {tag
                      {tag _lua_alert}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {near_to
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag flag}
                    }
                  }
                  {exclude
                    {state
                      {state inactive}
                    }
                  }
                }
              }
              {distance 61}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _bot}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag _lua_mi}
                  }
                  {tag
                    {tag _lua_ignore}
                  }
                  {tag
                    {tag _lua_alert}
                  }
                  {state
                    {state inactive}
                  }
                  {state
                    {state user_control}
                  }
                }
              }
              {amount 1
              }
              {sort
                {type entity}
                {entity
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag flag}
                      }
                    }
                  }
                  {sort
                    {type shuffle}
                  }
                }
              }
            }
            {tag_add _local1}
          }
          {"delay"
            {time 0.5}
          }
          {"switch"
            {"case"
              {condition
                {type near}
                {units
                  {ignore_captured_by_user 0}
                  {tag _local1}
                  {state operatable}
                }
                {near_to
                  {ignore_captured_by_user 0}
                  {tag flag}
                }
                {distance 60}
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag _local1}
                  {state operatable}
                }
                {tag_add _lua_ignore}
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag _local1}
                      }
                    }
                    {include
                      {prop
                        {prop human}
                      }
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag _lua_mi}
                      }
                    }
                  }
                }
                {drop orders}
                {fire_mode open}
                {move_mode zone}
                {ai_move
                  {mode enable}
                }
                {movement
                  {speed assault}
                }
                {ai
                  {advance_ratio 2}
                  {retreat_ratio 5}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag _local1}
                      }
                    }
                    {include
                      {prop
                        {prop vehicle}
                      }
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag _lua_mi}
                      }
                      {state
                        {state user_control}
                      }
                    }
                  }
                }
                {drop orders}
                {fire_mode open}
                {move_mode zone}
                {move_radius 30}
                {ai_move
                  {mode enable}
                }
                {movement
                  {speed normal}
                  {forward on}
                  {backward on}
                }
              }
            }
            {"default"}
          }
          {"delay"
            {time 0.5}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _local1}
            }
            {tag_remove _local1}
          }
          {"delay"
            {time 15}
          }
          {"trigger"
            {name "lua/ignore_seek"}
          }
        }
      }
      {"lua/ignore_incheck"
        {condition
          {expression "(1 & 2) | (2 & 3)"}
          {terms
            {"1.entities"
              {selector
                {ignore_captured_by_user 0}
                {tag _lua_ignore}
                {zone "global"}
                {state operatable}
              }
              {count
                {op ">"}
                {value 30}
              }
            }
            {"2.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
            {"3.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _lua_ignore}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {state
                      {state operatable}
                    }
                  }
                }
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag _lua_ignore}
                      }
                    }
                    {include
                      {tag
                        {tag _lua_mi}
                      }
                    }
                  }
                }
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag _lua_ignore}
                      }
                    }
                    {include
                      {tag
                        {tag _lua_mi}
                      }
                    }
                  }
                }
                {tag_remove _lua_ignore}
              }
              {"delay"
                {time 10}
              }
              {"trigger"
                {name "lua/ignore_incheck"}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag _lua_ignore}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {state
                        {state inactive}
                      }
                    }
                  }
                  {sort
                    {type entity}
                    {entity
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag flag}
                          }
                        }
                        {exclude
                          {state
                            {state inactive}
                          }
                        }
                      }
                    }
                    {mode farthest}
                  }
                  {amount 1
                  }
                }
                {tag_add _tidy1}
              }
              {"delay"
                {time 1}
              }
              {"switch"
                {"case"
                  {condition
                    {type see_enemy}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _tidy1}
                      {state operatable}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _tidy1}
                    }
                    {tag_remove _lua_ignore}
                  }
                  {"delay"
                    {time 1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _tidy1}
                    }
                    {tag_remove _tidy1}
                  }
                }
              }
              {"delay"
                {time 25}
              }
              {"trigger"
                {name "lua/ignore_incheck"}
              }
            }
          }
        }
      }
      {"ai/recrew_tank"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_tank}
                    }
                    {tag
                      {tag player_armor}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {prop
                      {prop vehicle}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag destroyed}
                    }
                    {tag
                      {tag body_break}
                    }
                    {tag
                      {tag ammo_cooked}
                    }
                    {state
                      {state inhabited}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 50}
              }
              {tag
                {"tag pair"}
                {"for selector" tcrew}
                {"for enemy" etank_enter}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot}
                    }
                  }
                  {include
                    {prop
                      {prop human}
                    }
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag bot_tank}
                    }
                    {tag
                      {tag player_armor}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {prop
                      {prop vehicle}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag destroyed}
                    }
                    {tag
                      {tag body_break}
                    }
                    {tag
                      {tag ammo_cooked}
                    }
                    {state
                      {state inhabited}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 50}
              }
              {tag
                {"tag pair"}
                {"for selector" tcrew}
                {"for enemy" etank_enter}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type see_enemy}
                {selector
                  {ignore_captured_by_user 0}
                  {tag tcrew}
                  {zone "global"}
                  {state operatable}
                }
              }
              {"delay"
                {time 1}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag tcrew}
                }
                {tag_remove tcrew}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag etank_enter}
                }
                {tag_remove etank_enter}
              }
              {"delay"
                {time 30}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag tcrew}
                          }
                        }
                        {include
                          {team
                            {team b}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team b}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag tcrew}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag tcrew}
                        }
                      }
                      {amount 1
                      }
                    }
                    {tag_add temp3}
                  }
                }
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag tcrew}
                          }
                        }
                        {include
                          {team
                            {team a}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag bot}
                          }
                        }
                        {include
                          {prop
                            {prop human}
                          }
                          {state
                            {state operatable}
                          }
                          {team
                            {team a}
                          }
                        }
                        {exclude
                          {tag
                            {tag _lua_mi}
                          }
                          {tag
                            {tag repairing}
                          }
                          {tag
                            {tag tcrew}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                      {sort
                        {type entity}
                        {entity
                          {ignore_captured_by_user 0}
                          {tag tcrew}
                        }
                      }
                      {amount 1
                      }
                    }
                    {tag_add temp3}
                  }
                }
                {"default"}
              }
              {"delay"
                {time 0.5}
              }
              {"while"
                {condition
                  {type near}
                  {units
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp3}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag tcrew}
                        }
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                  }
                  {near_to
                    {ignore_captured_by_user 0}
                    {tag etank_enter}
                  }
                  {distance 90}
                }
                {"delay"
                  {time 0.1}
                }
                {"entity_state"
                  {selector
                    {source advanced}
                    {ignore_captured_by_user 0}
                    {group
                      {select
                        {tag
                          {tag temp3}
                        }
                      }
                      {include
                        {prop
                          {prop human}
                        }
                        {state
                          {state operatable}
                        }
                      }
                      {exclude
                        {tag
                          {tag tcrew}
                        }
                        {state
                          {state inactive}
                        }
                        {state
                          {state linked}
                        }
                      }
                    }
                    {sort
                      {type entity}
                      {entity
                        {ignore_captured_by_user 0}
                        {tag etank_enter}
                      }
                    }
                    {amount 1
                    }
                  }
                  {tag_add tcrew}
                  {tag_remove temp3}
                }
                {"delay"
                  {time 0.1}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag tcrew}
                  {state operatable}
                }
                {tag_add _lua_mi}
              }
              {"actor_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag tcrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {drop orders}
                {fire_mode open}
                {move_mode free}
                {movement
                  {speed assault}
                }
              }
              {"delay"
                {time 0.3}
              }
              {"action"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag tcrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {drop orders}
                {action move}
                {target
                  {ignore_captured_by_user 0}
                  {tag etank_enter}
                }
              }
              {"delay"
                {time 6}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag etank_enter}
                          }
                        }
                        {include
                          {prop
                            {prop vehicle}
                          }
                        }
                        {exclude
                          {tag
                            {tag destroyed}
                          }
                          {tag
                            {tag body_break}
                          }
                          {tag
                            {tag ammo_cooked}
                          }
                          {state
                            {state inhabited}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"board"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag tcrew}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                    }
                    {vehicle
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag etank_enter}
                          }
                        }
                        {include
                          {prop
                            {prop vehicle}
                          }
                        }
                        {exclude
                          {tag
                            {tag destroyed}
                          }
                          {tag
                            {tag ammo_cooked}
                          }
                          {tag
                            {tag body_break}
                          }
                        }
                      }
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag tcrew}
                          }
                        }
                        {include
                          {state
                            {state operatable}
                          }
                        }
                        {exclude
                          {tag
                            {tag repairing}
                          }
                          {state
                            {state inactive}
                          }
                          {state
                            {state linked}
                          }
                        }
                      }
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                  }
                }
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag tcrew}
                  {state operatable}
                }
                {tag_add _mi_temp6}
              }
              {"delay"
                {time 20}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {group
                    {select
                      {tag
                        {tag tcrew}
                      }
                    }
                    {include
                      {state
                        {state operatable}
                      }
                    }
                    {exclude
                      {tag
                        {tag repairing}
                      }
                      {state
                        {state inactive}
                      }
                      {state
                        {state linked}
                      }
                    }
                  }
                }
                {tag_remove tcrew}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag temp3}
                }
                {tag_remove temp3}
              }
              {"entity_state"
                {selector
                  {ignore_captured_by_user 0}
                  {tag etank_enter}
                }
                {tag_remove etank_enter}
              }
              {"delay"
                {time 30}
              }
            }
          }
          {"delay"
            {time 30}
          }
          {"entity_state"
            {selector
              {source advanced}
              {ignore_captured_by_user 0}
              {group
                {select
                  {tag
                    {tag _mi_temp6}
                  }
                }
                {include
                  {state
                    {state operatable}
                  }
                }
                {exclude
                  {tag
                    {tag repairing}
                  }
                  {state
                    {state inactive}
                  }
                  {state
                    {state linked}
                  }
                }
              }
            }
            {tag_remove _lua_mi}
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _mi_temp6}
            }
            {tag_remove _mi_temp6}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "ai/recrew_tank"}
          }
        }
      }
      {"lua/in_transit_act"
        {condition
          {type 1}
          {terms
            {"1.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _bot}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_alert}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag _lua_ignore}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 90}
              }
              {tag
                {"tag pair"}
                {"for selector" _act}
              }
            }
            {"2.see_actors"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _bot}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team a}
                    }
                  }
                  {exclude
                    {tag
                      {tag _lua_alert}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {tag
                      {tag _lua_ignore}
                    }
                    {tag
                      {tag repairing}
                    }
                    {state
                      {state inactive}
                    }
                    {state
                      {state linked}
                    }
                    {state
                      {state user_control}
                    }
                  }
                }
              }
              {enemy
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {zone
                      {zone "global"}
                    }
                  }
                  {include
                    {state
                      {state operatable}
                    }
                    {team
                      {team b}
                    }
                  }
                }
              }
              {distance
                {mode near_than}
                {meters 90}
              }
              {tag
                {"tag pair"}
                {"for selector" _act}
              }
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type see_enemy}
                {selector
                  {ignore_captured_by_user 0}
                  {tag _act}
                  {state operatable}
                }
              }
              {"delay"
                {time 0.1}
              }
              {"switch"
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag _act}
                          }
                        }
                        {include
                          {tag
                            {tag bot_veh}
                          }
                          {prop
                            {prop vehicle}
                          }
                        }
                        {exclude
                          {state
                            {state user_control}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag _act}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {ai_move
                      {mode enable}
                    }
                    {cannon fire}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _act}
                      {state operatable}
                    }
                    {tag_add _lua_alert}
                    {tag_remove _lua_ignore}
                  }
                  {"delay"
                    {time 10}
                  }
                }
                {"case"
                  {condition
                    {type entities}
                    {selector
                      {source advanced}
                      {ignore_captured_by_user 0}
                      {group
                        {select
                          {tag
                            {tag _act}
                          }
                        }
                        {include
                          {tag
                            {tag bot}
                          }
                          {prop
                            {prop human}
                          }
                        }
                        {exclude
                          {state
                            {state dead}
                          }
                        }
                      }
                    }
                  }
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag _act}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {move_mode hold}
                    {ai_move
                      {mode enable}
                    }
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _act}
                      {state operatable}
                    }
                    {tag_add _lua_alert}
                    {tag_remove _lua_ignore}
                  }
                  {"delay"
                    {time 1}
                  }
                  {"actor_state"
                    {selector
                      {tag _act}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                  }
                  {"delay"
                    {time 22}
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"actor_state"
                    {selector
                      {tag _act}
                      {type vehicle}
                      {state operatable}
                    }
                    {drop orders}
                    {fire_mode open}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {forward off}
                      {backward off}
                    }
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _act}
                      {state operatable}
                    }
                    {tag_add _lua_alert}
                    {tag_remove _lua_ignore}
                  }
                  {"delay"
                    {time 2}
                  }
                  {"actor_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag _act}
                      {state operatable}
                    }
                    {fire_mode open}
                    {move_mode free}
                    {ai_move
                      {mode enable}
                    }
                    {movement
                      {speed normal}
                      {forward on}
                      {backward on}
                    }
                  }
                  {"delay"
                    {time 22}
                  }
                }
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
            }
          }
          {"delay"
            {time 1}
          }
          {"entity_state"
            {selector
              {ignore_captured_by_user 0}
              {tag _act}
            }
            {tag_remove _act}
          }
          {"delay"
            {time 5}
          }
          {"trigger"
            {name "lua/in_transit_act"}
          }
        }
      }
      {"lua/alert_clear"
        {condition
          {expression "(!1 & 2 & 4) | (3 & 4)"}
          {terms
            {"1.see_enemy"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag _lua_alert}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {state
                      {state operatable}
                    }
                  }
                  {exclude
                    {state
                      {state user_control}
                    }
                  }
                }
              }
            }
            {"2.entities"
              {selector
                {source advanced}
                {group
                  {select
                    {tag
                      {tag _lua_alert}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {state
                      {state operatable}
                    }
                  }
                  {exclude
                    {state
                      {state user_control}
                    }
                  }
                }
              }
            }
            {"3.entities"
              {selector
                {source advanced}
                {ignore_captured_by_user 0}
                {group
                  {select
                    {tag
                      {tag _lua_alert}
                    }
                  }
                  {include
                    {zone
                      {zone "global"}
                    }
                    {tag
                      {tag _lua_mi}
                    }
                    {state
                      {state operatable}
                    }
                  }
                }
              }
            }
            {"4.cmp_i"
              {var "ai_on$"}
              {op ">"}
              {value 0}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type entities}
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag _lua_alert}
                      }
                    }
                    {include
                      {tag
                        {tag _lua_mi}
                      }
                    }
                  }
                }
              }
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {source advanced}
                  {ignore_captured_by_user 0}
                  {group
                    {select
                      {tag
                        {tag _lua_alert}
                      }
                    }
                    {include
                      {tag
                        {tag _lua_mi}
                      }
                    }
                  }
                }
                {tag_remove _lua_alert}
              }
              {"delay"
                {time 8}
              }
              {"trigger"
                {name "lua/alert_clear"}
              }
            }
            {"default"
              {"delay"
                {time 0.1}
              }
              {"entity_state"
                {selector
                  {amount 1
                  }
                  {tag _lua_alert}
                  {state operatable}
                }
                {tag_add alert_temp}
              }
              {"delay"
                {time 1}
              }
              {"switch"
                {"case"
                  {condition
                    {type see_enemy}
                    {selector
                      {ignore_captured_by_user 0}
                      {tag alert_temp}
                    }
                  }
                }
                {"default"
                  {"delay"
                    {time 0.1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag alert_temp}
                    }
                    {tag_remove _lua_alert}
                  }
                  {"delay"
                    {time 1}
                  }
                  {"entity_state"
                    {selector
                      {ignore_captured_by_user 0}
                      {tag alert_temp}
                    }
                    {tag_remove alert_temp}
                  }
                }
              }
              {"delay"
                {time 8}
              }
              {"trigger"
                {name "lua/alert_clear"}
              }
            }
          }
        }
      }
      {"environment_any"
        {condition
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.mission_option"
              {name "any_weather"}
            }
          }
        }
        {actions
          {"switch"
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_2"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_3"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_cloudy_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_rain_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_rain_2"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.2}
              }
              {"environment"
                {name "goh/multi/west/summer/night_1"}
                {time -1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.2}
              }
              {"environment"
                {name "goh/multi/west/summer/night_2"}
                {time -1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.2}
              }
              {"environment"
                {name "goh/multi/west/summer/night_rain_1"}
                {time -1}
                {apply}
              }
            }
            {"default"}
          }
        }
      }
      {"environment_day"
        {condition
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.mission_option"
              {name "day_weather"}
            }
          }
        }
        {actions
          {"switch"
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_2"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_3"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_cloudy_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_rain_1"}
                {time 1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/day_rain_2"}
                {time 1}
                {apply}
              }
            }
            {"default"}
          }
        }
      }
      {"environment_night"
        {condition
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.mission_option"
              {name "night_weather"}
            }
          }
        }
        {actions
          {"switch"
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/night_1"}
                {time -1}
                {apply}
              }
            }
            {"case"
              {condition
                {type rand}
                {value 0.4}
              }
              {"environment"
                {name "goh/multi/west/summer/night_2"}
                {time -1}
                {apply}
              }
            }
            {"default"
              {"environment"
                {name "goh/multi/west/summer/night_rain_1"}
                {time -1}
                {apply}
              }
            }
          }
        }
      }
      {"start"
        {condition
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"event"
            {event "gamestart"}
            {mode set}
            {delay 0}
          }
          {"delay"
            {time 0.1}
          }
          {"event"
            {event "ambient"}
            {mode set}
            {delay 0}
          }
        }
      }
      {"music_new/action_playlist/action_theme_3"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/action_theme_3.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/action_theme_3"}
          }
        }
      }
      {"music_new/ambient_selection"
        {condition
          {expression "1 & (2 | 3)"}
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.event"
              {id "ambient"}
            }
            {"3.cmp_i"
              {var "ambient$"}
              {op ">="}
              {value 20}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"event"
            {event "action"}
            {mode reset}
            {delay 0}
          }
          {"event"
            {event "ambient"}
            {mode set}
            {delay 0}
          }
          {"delay"
            {time 0.1}
          }
          {"trigger"
            {name "music_new/music_fade"}
            {on}
          }
          {"delay"
            {time 0.1}
          }
          {"set_i"
            {var "action_selection$"}
            {op "="}
            {value 0}
          }
          {"set_i"
            {var "ambient$"}
            {op "="}
            {value 0}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_selection "}
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 0}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 1}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 2}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 3}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 4}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 6}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 1}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 7}
                  }
                }
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "<<"}
                {value 7}
              }
              {"set_i"
                {var "ambient_selection$"}
                {op "+"}
                {value 1}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op ">="}
                {value 7}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 1}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 2}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 3}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 4}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 6}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 1}
                  }
                  {"set_i"
                    {var "ambient_selection$"}
                    {op "="}
                    {value 7}
                  }
                }
              }
            }
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 1}
              }
              {"trigger"
                {name "music_new/ambient_playlist/ambient_2"}
                {on}
              }
              {"delay"
                {time 105}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 1}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 2}
              }
              {"trigger"
                {name "music_new/ambient_playlist/ambient_4"}
                {on}
              }
              {"delay"
                {time 165}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 2}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 3}
              }
              {"trigger"
                {name "music_new/ambient_playlist/ger_ambient_lvl1"}
                {on}
              }
              {"delay"
                {time 135}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 3}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 4}
              }
              {"trigger"
                {name "music_new/ambient_playlist/intro_glushkovo"}
                {on}
              }
              {"delay"
                {time 22}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 4}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 5}
              }
              {"trigger"
                {name "music_new/ambient_playlist/intro_vyazma"}
                {on}
              }
              {"delay"
                {time 47}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 5}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 6}
              }
              {"trigger"
                {name "music_new/ambient_playlist/usa_ambient_lvl1"}
                {on}
              }
              {"delay"
                {time 90}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 6}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "ambient_selection$"}
                {op "=="}
                {value 7}
              }
              {"trigger"
                {name "music_new/ambient_playlist/action_theme2"}
                {on}
              }
              {"delay"
                {time 195}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "ambient_selection$"}
                    {op "=="}
                    {value 7}
                  }
                  {"trigger"
                    {name "music_new/ambient_selection"}
                  }
                }
                {"default"}
              }
            }
            {"default"
              {"trigger"
                {name "music_new/ambient_selection"}
              }
            }
          }
        }
      }
      {"music_new/silent_timer"
        {condition
          {expression "1 & 2 & !3"}
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.event"
              {id "action"}
            }
            {"3.event"
              {id "ambient"}
            }
          }
        }
        {actions
          {"delay"
            {time 4}
          }
          {"set_i"
            {var "ambient$"}
            {op "+"}
            {value 4}
          }
          {"delay"
            {time 0.1}
          }
          {"trigger"
            {name "music_new/silent_timer"}
          }
        }
      }
      {"music_new/ambient_playlist/ambient_2"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ambient_2.wav"}
            {stop_all}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/ambient_2"}
          }
        }
      }
      {"music_new/ambient_playlist/ambient_4"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ambient_4.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/ambient_4"}
          }
        }
      }
      {"music_new/ambient_playlist/ger_ambient_lvl1"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ger_ambient_lvl1.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/ger_ambient_lvl1"}
          }
        }
      }
      {"music_new/ambient_playlist/intro_glushkovo"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/intro_glushkovo.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/intro_glushkovo"}
          }
        }
      }
      {"music_new/ambient_playlist/intro_vyazma"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/intro_vyazma.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/intro_vyazma"}
          }
        }
      }
      {"music_new/ambient_playlist/usa_ambient_lvl1"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/usa_ambient_lvl1.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/usa_ambient_lvl1"}
          }
        }
      }
      {"music_new/action_selection "
        {condition
          {expression "1 & (2 | 3)"}
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.event"
              {id "action"}
            }
            {"3.signal"
              {zone "global"}
              {signals "shot injure explosion"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"event"
            {event "ambient"}
            {mode reset}
            {delay 0}
          }
          {"event"
            {event "action"}
            {mode set}
            {delay 0}
          }
          {"delay"
            {time 0.1}
          }
          {"trigger"
            {name "music_new/music_fade"}
            {on}
          }
          {"delay"
            {time 0.1}
          }
          {"set_i"
            {var "ambient_selection$"}
            {op "="}
            {value 0}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_selection"}
          }
          {"delay"
            {time 0.1}
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 0}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 1}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 2}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 3}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 4}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 6}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 1}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 7}
                  }
                }
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "<<"}
                {value 7}
              }
              {"set_i"
                {var "action_selection$"}
                {op "+"}
                {value 1}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op ">="}
                {value 7}
              }
              {"switch"
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 1}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 2}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.25}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 3}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 4}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.33}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 5}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 0.5}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 6}
                  }
                }
                {"case"
                  {condition
                    {type rand}
                    {value 1}
                  }
                  {"set_i"
                    {var "action_selection$"}
                    {op "="}
                    {value 7}
                  }
                }
              }
            }
          }
          {"switch"
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 1}
              }
              {"trigger"
                {name "music_new/action_playlist/action_theme_3"}
                {on}
              }
              {"delay"
                {time 165}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 1}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 2}
              }
              {"trigger"
                {name "music_new/action_playlist/ger_action_lvl3"}
                {on}
              }
              {"delay"
                {time 125}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 2}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 3}
              }
              {"trigger"
                {name "music_new/action_playlist/ger_battle_west_lvl1"}
                {on}
              }
              {"delay"
                {time 175}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 3}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
                {"default"}
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 4}
              }
              {"trigger"
                {name "music_new/action_playlist/ger_battle_west_lvl2"}
                {on}
              }
              {"delay"
                {time 110}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 4}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 5}
              }
              {"trigger"
                {name "music_new/action_playlist/usa_battle_lvl1"}
                {on}
              }
              {"delay"
                {time 220}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 5}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 6}
              }
              {"trigger"
                {name "music_new/action_playlist/usa_battle_lvl2"}
                {on}
              }
              {"delay"
                {time 235}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 6}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
              }
            }
            {"case"
              {condition
                {type cmp_i}
                {var "action_selection$"}
                {op "=="}
                {value 7}
              }
              {"trigger"
                {name "music_new/action_playlist/usa_battle_lvl3"}
                {on}
              }
              {"delay"
                {time 60}
              }
              {"switch"
                {"case"
                  {condition
                    {type cmp_i}
                    {var "action_selection$"}
                    {op "=="}
                    {value 7}
                  }
                  {"trigger"
                    {name "music_new/action_selection "}
                  }
                }
              }
            }
            {"default"
              {"trigger"
                {name "music_new/action_selection "}
              }
            }
          }
        }
      }
      {"music_new/ambient_playlist/action_theme2"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/action_theme_2.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/ambient_playlist/action_theme2"}
          }
        }
      }
      {"music_new/action_playlist/ger_action_lvl3"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ger_action_lvl3.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/ger_action_lvl3"}
          }
        }
      }
      {"music_new/action_playlist/ger_battle_west_lvl1"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ger_battle_west_lvl1.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/ger_battle_west_lvl1"}
          }
        }
      }
      {"music_new/action_playlist/ger_battle_west_lvl2"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/ger_battle_west_lvl2.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/ger_battle_west_lvl2"}
          }
        }
      }
      {"music_new/action_playlist/usa_battle_lvl1"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/usa_battle_lvl1.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/usa_battle_lvl1"}
          }
        }
      }
      {"music_new/action_playlist/usa_battle_lvl2"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/usa_battle_lvl2.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/usa_battle_lvl2"}
          }
        }
      }
      {"music_new/action_playlist/usa_battle_lvl3"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {start "/music/usa_battle_lvl3.wav"}
            {volume game}
            {fade 5}
          }
          {"delay"
            {time 1}
          }
          {"trigger"
            {name "music_new/action_playlist/usa_battle_lvl3"}
          }
        }
      }
      {"music_new/music_fade"
        {condition
          {terms
            {"1.event"
              {id "disabled"}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"music"
            {stop_all}
            {volume game}
            {fade 8}
          }
          {"delay"
            {time 0.1}
          }
          {"trigger"
            {name "music_new/music_fade"}
          }
        }
      }
      {"music_new/silent_timer_reset"
        {condition
          {expression "1 & 2 & !3 & 4 & !5"}
          {terms
            {"1.event"
              {id "gamestart"}
            }
            {"2.event"
              {id "action"}
            }
            {"3.event"
              {id "ambient"}
            }
            {"4.signal"
              {zone "global"}
              {signals "shot injure explosion"}
            }
            {"5.cmp_i"
              {var "ambient$"}
              {op "=="}
              {value 0}
            }
          }
        }
        {actions
          {"delay"
            {time 0.1}
          }
          {"set_i"
            {var "ambient$"}
            {op "="}
            {value 0}
          }
          {"delay"
            {time 4}
          }
          {"trigger"
            {name "music_new/silent_timer_reset"}
          }
        }
      }
      {"drumsound"
        {condition
          {terms
            {"1.event"
              {id "gamestart"}
            }
          }
        }
        {actions
          {"sound"
            {name "interface/gui/matchmaking"}
          }
        }
      }
      {"notifications"
        {condition
          {terms
            {"1.event"
              {id "gamestart"}
            }
          }
        }
        {actions
          {"delay"
            {time 300}
          }
          {"sound"
            {name "gui/level_up"}
          }
          {"delay"
            {time 600}
          }
          {"sound"
            {name "gui/level_up"}
          }
          {"delay"
            {time 600}
          }
          {"sound"
            {name "gui/level_up"}
          }
        }
      }
    }
  }
  {Players
    {count 17}
    {diplomacy
      1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
      0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    }
  }
  {Fog 0}
  {EntityManager {Enabled}
    {CountScale "x0.5"}
  }
}
