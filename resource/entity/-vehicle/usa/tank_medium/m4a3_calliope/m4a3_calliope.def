{game_entity

  (include "/properties/standard/vehicle/tank-config.ext")
  (include "/properties/selection/vehicle.inc" scale(1.1))

  {Extension "m4a3_calliope.mdl"}
  (include   "m4a3_calliope.ext")
  (include   "crew-and-seat.ext")

  {Props "medium" "vision_lev04" "rocket" "muzzle_75mm_76mm" "smoke" "2in_wp" "captor"}

  {PatherId "m4a3"}
  {Targetclass "tank_medium"}
  {TargetSelector "tank_medium"}

  {Boarder
    {anm "driver"
      {forward {begin "board_m4_driver"} {end "seat_m4_gunner"} {base "open_driver"}}
      {reverse {end "emit_tank_1_hold"} {base "open_driver"}}
    }
    {anm "co_driver"
      {forward {begin "board_m4_crew"} {end "seat_m4_gunner"} {base "open_co_driver"}}
      {reverse {end "emit_tank_1_hold"} {base "open_co_driver"}}
    }
    {anm "left"
      {forward {begin "board_m4_crew"} {end "seat_m4_gunner"}}
      {reverse {end "emit_tank_1_hold"}}
    }
    {anm "right"
      {forward {begin "board_m4_crew"} {end "seat_m4_gunner"}}
      {reverse {end "emit_tank_1_hold"}}
    }
    {anm "armor1"
      {forward {begin "board_HighArmor"} {end "pose_seat_armor_1"}}
      {reverse {end "emit_tank_2"}}
    }
    {anm "armor2"
      {forward {begin "board_HighArmor"} {end "pose_seat_armor_1"}}
      {reverse {end "emit_tank_2"}}
    }
  }

  {Extender "smokescreen"
    {cooldown 5}
    {itemTags "mortareng_50 sm"}
  }

  {Extender "inventory"
    {Box
      {Size 12 8}
      {Weight 1000}
      {Item "repair_kit" 10}

      {Item "ammo usa-hmgun api" 1900}
      {Item "usa-75x350 apcbche" 19}
      {Item "usa-75x350 he" 29}
      {Item "usa-75x350 wp" 9}

      {Item "ammo usa-114mm-m8" 60}
      {Item "mortareng_50 sm" 20}
    }
  }
  {Weaponry
    {RestoreIKTime 2}
    {Place "gun"
      {RestoreIKAfterAim}
      {Weapon "weapon usa-75mm-m6" filling "ammo usa-75x350 apcbche" 1}
      {Gunner "gunner"}
      {Charger "charger"}
      {AccuracyByMotion
        {MaxLinearSpeed  7.00} ; km/h
        {ByLinearSpeed   0.25} ; km/h
        {MaxAngularSpeed 3.00} ; deg/s
        {ByAngularSpeed  0.35} ; deg/s
        {DisorderTime    0.35} ; s
        {OrderTime       4.00} ; s
      }
    }
    {Place "rocket"
      {RestoreIKAfterAim}
      {Barrels 60}
      {Weapon "weapon usa-114mm-t34-calliope" filling "ammo usa-114mm-m8" 60}
      {Gunner "commander"}
      {Charger "commander"}
      {Foresight "foresight2"}
      {StationaryFiring}
      {Basic}
      {AccuracyByMotion
        {MaxLinearSpeed  10.00} ; km/h
        {ByLinearSpeed    0.40} ; km/h
        {MaxAngularSpeed 30.00} ; deg/s
        {ByAngularSpeed   0.50} ; deg/s
        {DisorderTime     0.60} ; s
        {OrderTime        1.00} ; s
      }
    }
    {Place "mgun2"
      {Type "coaxial"}
      {Weapon "weapon usa-browning-m2" filled}
      {Foresight "foresight5"}
      {Gunner "gunner"}
      {Charger "charger"}
      {Basic}
      {AccuracyByMotion
        {MaxLinearSpeed   8.00} ; km/h
        {ByLinearSpeed    0.40} ; km/h
        {MaxAngularSpeed 30.00} ; deg/s
        {ByAngularSpeed   0.50} ; deg/s
        {DisorderTime     0.60} ; s
        {OrderTime        1.00} ; s
      }
    }
    {Place "mgun1"
      {Type "hull"}
      {Weapon "weapon usa-browning-m2" filled}
      {Foresight "foresight4"}
      {Gunner "gunner3"}
      {Charger "gunner3"}
      {Basic}
      {ai_in_manual}
      {AccuracyByMotion
        {MaxLinearSpeed   8.00} ; km/h
        {ByLinearSpeed    0.40} ; km/h
        {MaxAngularSpeed 30.00} ; deg/s
        {ByAngularSpeed   0.50} ; deg/s
        {DisorderTime     0.60} ; s
        {OrderTime        1.00} ; s
      }
    }
  }

  {Mass 32570}
  {Chassis "track"
    ("set-tank-trace" fx("tracks_mid") step(0.3) length(0.7) boneleft("FXtraceL1") boneright("FXtraceR1"))
    ("set-maneuverability-of-tank" speed(48) power(450) mass(32570) performance(0.75))
    ("set-fuel-bag" volume(635) power(450) mass(32570))
    {DisableMoveWhileFiring}
  }

  {Bone "gun_rot"
    {limits -10 25}
    {speed2 5}
  }
  {Bone "gun_rot1"
    {limits -10 60}
    {speed2 5}
  }
  {Bone "turret"
    {speed2 12}
  }
  {Bone "cupola_ring"
    {speed2 50}
  }

}
