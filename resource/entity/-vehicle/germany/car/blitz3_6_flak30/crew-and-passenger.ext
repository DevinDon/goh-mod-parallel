; crew and passenger

; define from crew_human
; args = name animation bone door
(define "set-crew"
  {placer
    {place "%name"
      {group "crew"}
      {linkbone "%bone"}
      {turnoff {shadow} {sensor} {targetable 1}}
    }
  }
  {boarder
    {door "%door"}
    {link "%door" "%name" {anm "%animation"} {forward putoff} {reverse puton}}
  }
)

; define from crew_human
; args = name animation bone door
(define "set-passenger"
  {placer
    {place "%name"
      {group "passenger"}
      {linkbone "%bone"}
      {turnoff {shadow} {sensor} {targetable 1}}
    }
  }
  {boarder
    {door "%door"}
    {link "%door" "%name" {anm "%animation"} {forward putoff} {reverse puton}}
  }
)

; apply settings
; set animation
{Boarder
  {anm "driver"
    {forward {base "doorleft"}   {begin "board_opel_driver"} {end "seat_opel_driver"}}
    {reverse {base "doorleft" 1}                             {end "emit_body" 1}}
  }
  {anm "gunner"
    {forward {base "board"} {begin "board_SdKfz251-1"} {end "pose_flak30_gunner"}}
    {reverse {base "board"}                            {end "emit_body" 1}}
  }
  {anm "charger"
    {forward {base "board"} {begin "board_SdKfz251-1"} {end "pose_flak30_loader"}}
    {reverse {base "board"}                            {end "emit_body" 1}}
  }
  {anm "passenger"
    {forward {base "doorright"}   {begin "board_big-midcar"} {end "seat_opel_commander"}}
    {reverse {base "doorright" 1}                            {end "emit_body" 1}}
  }
}

; set crew and passenger
("set-crew"      name(driver)      animation(driver)    bone(driver)    door(emit1))
("set-crew"      name(gunner)      animation(gunner)    bone(gunner)    door(emit3))
("set-crew"      name(charger)     animation(charger)   bone(charger)   door(emit4))
("set-passenger" name(passenger01) animation(passenger) bone(commander) door(emit2))
("set-passenger" name(passenger02) animation(passenger) bone(commander) door(emit2))

; set vision
{Sensor
  {Visor "gun"
    {Bone "foresight1"}
    {Vision "standard-vision-wide"}
  }
}
